{"version":3,"file":"bundle.min.js","mappings":"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","sources":["webpack://ultf-frontend/./src/js/wp-2fa-redirect.js","webpack://ultf-frontend/./node_modules/eventslibjs/dist/events.polyfills.min.js","webpack://ultf-frontend/webpack/bootstrap","webpack://ultf-frontend/webpack/runtime/compat get default export","webpack://ultf-frontend/webpack/runtime/define property getters","webpack://ultf-frontend/webpack/runtime/global","webpack://ultf-frontend/webpack/runtime/hasOwnProperty shorthand","webpack://ultf-frontend/./src/js/_utilities.js","webpack://ultf-frontend/./src/js/_icons.js","webpack://ultf-frontend/./src/js/password-field.js","webpack://ultf-frontend/./src/js/frontend-login.js","webpack://ultf-frontend/./src/js/recaptcha.js","webpack://ultf-frontend/./src/js/dialog.js","webpack://ultf-frontend/./src/index.js"],"sourcesContent":["/**\n * WP 2FA Redirect Handler\n * \n * Minimal script to handle AJAX login redirects for 2FA challenges.\n * Replaces the complex 1000+ line 2FA form management with simple redirect logic.\n * \n * @package uncanny-learndash-toolkit\n * @since 1.0.0\n */\n\n/**\n * Simple AJAX redirect handler for 2FA\n * \n * Handles the response from AJAX login attempts and redirects to 2FA challenge\n * when required. All 2FA form rendering and validation is now handled server-side.\n */\nclass UltimateLogin2FARedirect {\n\n    /**\n * Handles AJAX login response and performs redirect if 2FA is required\n * \n * @param {Object} response - The AJAX login response\n * @returns {boolean} - True if redirect was handled, false otherwise\n */\n    static handleResponse(response) {\n        // Check if this is a 2FA redirect response\n        if (response &&\n            response.data &&\n            response.data.requires_redirect === true &&\n            response.data.redirect_url) {\n\n            // Redirect to the 2FA challenge page\n            if (typeof window !== 'undefined' && window.location) {\n                window.location.href = response.data.redirect_url;\n                return true;\n            }\n        }\n\n        return false;\n    }\n}\n\n// Make globally available for the frontend login system\nif (typeof window !== 'undefined') {\n    window.UltimateLogin2FARedirect = UltimateLogin2FARedirect;\n}\n\n// Export for module systems\nif (typeof module !== 'undefined' && module.exports) {\n    module.exports = UltimateLogin2FARedirect;\n}\n","/*! eventslibjs v1.2.0 | (c) 2019 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/events */\nwindow.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=n.length;0<=--t&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),(function(e,t){\"function\"==typeof define&&define.amd?define([],(function(){return t(e)})):\"object\"==typeof exports?module.exports=t(e):e.events=t(e)})(\"undefined\"!=typeof global?global:\"undefined\"!=typeof window?window:this,(function(r){\"use strict\";var i={},c={},f=function(o){c[o.type]&&c[o.type].forEach((function(e){var t,n;(t=o.target,n=e.selector,-1<[\"*\",\"window\",\"document\",\"document.documentElement\",r,document,document.documentElement].indexOf(n)||(\"string\"!=typeof n&&n.contains?n===t||n.contains(t):t.closest(n)))&&e.callback(o)}))};return i.on=function(e,t,n){t&&n&&e.split(\",\").forEach((function(e){e=e.trim(),c[e]||(c[e]=[],r.addEventListener(e,f,!0)),c[e].push({selector:t,callback:n})}))},i.off=function(e,n,o){e.split(\",\").forEach((function(e){if(e=e.trim(),c[e]){if(c[e].length<2||!n)return delete c[e],void r.removeEventListener(e,f,!0);var t=(function(e,t,n){for(var o=0;o<e.length;o++)if(e[o].selector===t&&e[o].callback.toString()===n.toString())return o;return-1})(c[e],n,o);t<0||c[e].splice(t,1)}}))},i.once=function(n,o,r){i.on(n,o,(function e(t){r(t),i.off(n,o,e)}))},i.get=function(){var e={};for(var t in c)c.hasOwnProperty(t)&&(e[t]=c[t]);return e},i}));","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\n * Determine if a variable is set and is not NULL\n *\n * @since 3.3\n *\n * @param  {mixed}      variable - The variable being evaluated\n * @return {boolean}    TRUE if the variable is defined\n */\nexport const isDefined = ( variable ) => {\n\t// Returns true if the variable is undefined\n    return typeof variable !== 'undefined' && variable !== null;\n}\n\n/**\n * Determine whether a variable is empty\n *\n * @since 3.3\n *\n * @param   {mixed}     variable - The variable being evaluated\n * @return  {boolean}   TRUE if the variable is empty\n */\nexport const isEmpty = ( variable ) => {\n    let response = true;\n\n    // Check if the variable is defined, otherwise is empty\n    if ( isDefined( variable ) ){\n        // Check if it's array\n        if ( Array.isArray( variable ) ){\n            response = variable.length == 0;\n        }\n        else if ( isObject( variable ) ){\n            response = Object.keys( variable ).length == 0;\n        }\n        else {\n            response = variable == '';\n        }\n    }\n\n    return response;\n}\n\n/**\n * Determine whether a variable is an object.\n * The Object constructor creates an object wrapper for the given value. If the value is null or undefined, it will create and return an empty object, otherwise, it will return an object of a type that corresponds to the given value. If the value is an object already, it will return the value.\n *\n * @since 3.3\n *\n * @param   {mixed}     variable - The variable being evaluated\n * @return  {boolean}   TRUE if the variable is an object\n */\nexport const isObject = ( variable ) => {\n    return variable === Object( variable );\n}\n\n/**\n * Simulate a fade in/fade out transition\n *\n * @since 3.3\n * \n * @param  {String} fade        Whether we have to fade in our fade out the element\n * @param  {Element}   element  Element\n */\nexport const fade = ( in_out = 'in', element, callback ) => {\n    // Check what's the class we have to add\n    const fadeClass = `ult--fade-${ in_out }`;\n\n    // Define the default callback\n    callback = isDefined( callback ) ? callback : () => {};\n\n    // Add the fade class\n    element.classList.add( fadeClass );\n\n    // Remove it after 300ms (the fade duration)\n    setTimeout(() => {\n        // Remove the fade class\n        element.classList.remove( fadeClass );\n\n        // Invoke the callback\n        callback();\n    }, 280 );\n}\n\n/**\n * Performs an AJAX request\n *\n * @since 3.3\n *\n * @param {object}    data - Data to be sent in the request\n * @param {callback}  [onSuccess] - Function to be invoked if the request is successful\n * @param {callback}  [onFail] - Function to be invoked if the request fails\n */\n\nexport function AJAXRequest( action = null, data = null, onSuccess = null, onFail = null, options = {} ){\n    // Add {action} to the data object\n    data = { ...data, ...{\n        action: action\n    }};\n\n    // Check if we should include the nonce\n    if ( ! isDefined( options.includeNonce ) || options.includeNonce ){\n        data.nonce = UncannyToolkit.ajax.nonce;\n    }\n\n    // Do the call\n    fetch( UncannyToolkit.ajax.url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n            'Cache-Control': 'no-cache',\n        },\n        body: new URLSearchParams( data ),\n    })\n    .then(( response ) => {\n        // Check if the call was not successful\n        if ( ! response.ok ){\n            if ( isDefined( onFail ) ){\n                onFail({ ...response, ...{ success: false }});\n            }\n\n            // Stop chain\n            throw Error( UncannyToolkit.i18n.error.generic );\n        }\n        else {\n            // Detect redirection\n            if ( response.redirected ) {\n                // Return the error for the next .then to handle it\n                return {\n                    success: false,\n                    code: 302\n                }\n            } else {\n                return response.json();\n            }\n        }\n    })\n    .then(( response ) => {\n        // Check if the call was successful\n        if ( response.success ){\n            if ( isDefined( onSuccess ) ){\n                onSuccess( response );\n            }\n        }\n        else {\n            if ( isDefined( onFail ) ){\n                onFail({ ...response, ...{ success: false }});\n            }\n        }\n    })\n    .catch(( response ) => {\n        console.error( '✋Uncanny Toolkit: The fetch call threw an error' );\n\n        if ( isDefined( onFail ) ){\n            onFail({ ...response, ...{ success: false }});\n        }\n    });;\n}\n\n/**\n * Trigger a custom event\n * @param  {String} eventId ID of the event\n * @param  {Object} data    Data\n */\nexport function triggerEvent( eventId = '', data = {} ){\n    try {\n        const event = new CustomEvent( eventId, { detail: data } );\n        document.dispatchEvent( event );\n    }\n    catch ( e ){}\n}","const eye = `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentcolor\" viewBox=\"0 0 576 512\"><path d=\"M279.6 160.4C282.4 160.1 285.2 160 288 160C341 160 384 202.1 384 256C384 309 341 352 288 352C234.1 352 192 309 192 256C192 253.2 192.1 250.4 192.4 247.6C201.7 252.1 212.5 256 224 256C259.3 256 288 227.3 288 192C288 180.5 284.1 169.7 279.6 160.4zM480.6 112.6C527.4 156 558.7 207.1 573.5 243.7C576.8 251.6 576.8 260.4 573.5 268.3C558.7 304 527.4 355.1 480.6 399.4C433.5 443.2 368.8 480 288 480C207.2 480 142.5 443.2 95.42 399.4C48.62 355.1 17.34 304 2.461 268.3C-.8205 260.4-.8205 251.6 2.461 243.7C17.34 207.1 48.62 156 95.42 112.6C142.5 68.84 207.2 32 288 32C368.8 32 433.5 68.84 480.6 112.6V112.6zM288 112C208.5 112 144 176.5 144 256C144 335.5 208.5 400 288 400C367.5 400 432 335.5 432 256C432 176.5 367.5 112 288 112z\"/></svg>`;\n\nconst eyeSlash = `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentcolor\" viewBox=\"0 0 640 512\"><path d=\"M150.7 92.77C195 58.27 251.8 32 320 32C400.8 32 465.5 68.84 512.6 112.6C559.4 156 590.7 207.1 605.5 243.7C608.8 251.6 608.8 260.4 605.5 268.3C592.1 300.6 565.2 346.1 525.6 386.7L630.8 469.1C641.2 477.3 643.1 492.4 634.9 502.8C626.7 513.2 611.6 515.1 601.2 506.9L9.196 42.89C-1.236 34.71-3.065 19.63 5.112 9.196C13.29-1.236 28.37-3.065 38.81 5.112L150.7 92.77zM223.1 149.5L313.4 220.3C317.6 211.8 320 202.2 320 191.1C320 180.5 316.1 169.7 311.6 160.4C314.4 160.1 317.2 159.1 320 159.1C373 159.1 416 202.1 416 255.1C416 269.7 413.1 282.7 407.1 294.5L446.6 324.7C457.7 304.3 464 280.9 464 255.1C464 176.5 399.5 111.1 320 111.1C282.7 111.1 248.6 126.2 223.1 149.5zM320 480C239.2 480 174.5 443.2 127.4 399.4C80.62 355.1 49.34 304 34.46 268.3C31.18 260.4 31.18 251.6 34.46 243.7C44 220.8 60.29 191.2 83.09 161.5L177.4 235.8C176.5 242.4 176 249.1 176 255.1C176 335.5 240.5 400 320 400C338.7 400 356.6 396.4 373 389.9L446.2 447.5C409.9 467.1 367.8 480 320 480H320z\"/></svg>`;\n\nexport { eye as iconEye }\nexport { eyeSlash as iconEyeSlash }","import {\n\ticonEye,\n\ticonEyeSlash\n} from './_icons';\n\n/**\n * Adds an eye icon to toggle password visibility\n * Does NOT wrap the field - keeps it in original DOM position to preserve Safari autofill\n */\nexport default class PasswordField {\n    /**\n     * Adds an eye icon to toggle password visibility\n     * @param {Node} $field The Node of the password field\n     */\n    constructor( $field ) {\n        // Check if the field exists\n        if ( ! $field ) {\n            return;\n        }\n\n        // Check if eye icon already exists (as next sibling)\n        const nextSibling = $field.nextElementSibling;\n        if ( nextSibling && nextSibling.classList && nextSibling.classList.contains( this.cssClasses.passwordVisibilityToggle ) ) {\n            return;\n        }\n\n        // Save Node\n        this.$field = $field;\n        \n        // Change class from \"input\" to \"uncannyowl-input\"\n        if ( this.$field.classList.contains( 'input' ) ) {\n            this.$field.classList.remove( 'input' );\n            this.$field.classList.add( 'uncannyowl-input' );\n        }\n\n        // Make parent position relative if it isn't already (for absolute positioning of icon)\n        this.setupParentPositioning();\n\n        // Add padding to field for the icon\n        this.addFieldPadding();\n\n        // Add eye icon as sibling (NOT wrapping the field)\n        this.addEyeIcon();\n\n        // Ensure field stays editable\n        this.ensureFieldEditable();\n        \n        // Add focus/blur handlers to style eye icon when field is focused\n        this.setupFocusHandlers();\n    }\n\n    /**\n     * Make parent position relative for absolute positioning of icon\n     */\n    setupParentPositioning() {\n        const parent = this.$field.parentNode;\n        \n        // Check if parent already has position\n        const parentPosition = window.getComputedStyle( parent ).position;\n        \n        // If parent doesn't have position, make it relative\n        if ( parentPosition === 'static' ) {\n            parent.style.position = 'relative';\n        }\n    }\n\n    /**\n     * Add padding to the right of the field to make room for the icon\n     */\n    addFieldPadding() {\n        // Add padding-right to make room for the eye icon\n        const currentPadding = window.getComputedStyle( this.$field ).paddingRight;\n        const paddingValue = parseInt( currentPadding ) || 0;\n        \n        // Add 35px padding if not already enough\n        if ( paddingValue < 35 ) {\n            this.$field.style.paddingRight = '35px';\n        }\n    }\n\n    /**\n     * Add eye icon as a sibling element (not wrapping the field)\n     */\n    addEyeIcon() {\n        // Create eye icon container\n        this.$eyeIcon = document.createElement( 'div' );\n        this.$eyeIcon.classList.add( this.cssClasses.passwordVisibilityToggle );\n        this.$eyeIcon.innerHTML = iconEye;\n        \n        // Insert icon as sibling after the field\n        this.$field.parentNode.insertBefore( this.$eyeIcon, this.$field.nextSibling );\n        \n        // Add click event to toggle visibility\n        this.$eyeIcon.addEventListener( 'click', () => {\n            const passwordIsVisible = this.$field.getAttribute( 'type' ) === 'text';\n\n            if ( passwordIsVisible ) {\n                // Hide the password\n                this.$field.setAttribute( 'type', 'password' );\n                this.$eyeIcon.innerHTML = iconEye;\n            } else {\n                // Show the password\n                this.$field.setAttribute( 'type', 'text' );\n                this.$eyeIcon.innerHTML = iconEyeSlash;\n            }\n        } );\n    }\n    \n    /**\n     * Setup focus/blur handlers to style eye icon when field is focused\n     */\n    setupFocusHandlers() {\n        // Listen for focus on field\n        this.$field.addEventListener( 'focus', () => {\n            // Add focus class to eye icon\n            if ( this.$eyeIcon ) {\n                this.$eyeIcon.classList.add( 'ult-form-password-wrapper-eye-toggle--focus' );\n            }\n        } );\n        \n        // Listen for blur on field\n        this.$field.addEventListener( 'blur', () => {\n            // Remove focus class from eye icon\n            if ( this.$eyeIcon ) {\n                this.$eyeIcon.classList.remove( 'ult-form-password-wrapper-eye-toggle--focus' );\n            }\n        } );\n    }\n\n    /**\n     * Ensure field stays editable\n     */\n    ensureFieldEditable() {\n        // Remove readonly/disabled immediately\n        this.$field.removeAttribute( 'readonly' );\n        this.$field.removeAttribute( 'disabled' );\n        this.$field.readOnly = false;\n        this.$field.disabled = false;\n    }\n\n    /**\n     * Object with the CSS classes used\n     */\n    get cssClasses() {\n        return {\n            passwordVisibilityToggle: 'ult-form-password-wrapper-eye-toggle'\n        }\n    }\n}\n","const events = require('eventslibjs');\n\nimport {\n\tAJAXRequest,\n\tisEmpty,\n\tisDefined,\n\ttriggerEvent\n} from './_utilities';\n\nimport PasswordField from './password-field';\n\nclass FrontendLogin {\n\tconstructor() {\n\t\t// Get elements\n\t\tthis.getElements();\n\n\t\t// Check if we have to invoke the methods\n\t\tif (this.shouldInvokeMethods()) {\n\t\t\t// Bind form submission\n\t\t\tthis.validateFormSubmission();\n\n\t\t\t// Handle reCAPTCHA changes\n\t\t\tthis.handleReCaptchaChanges();\n\t\t}\n\t}\n\n\tgetElements() {\n\t\t// Get the main elements\n\t\tthis.$elements = {}\n\n\t\t// Define the main CSS classes\n\t\tthis.cssClasses = {}\n\t}\n\n\tget formData() {\n\t\treturn {}\n\t}\n\n\tget ajaxAction() {\n\t\treturn '';\n\t}\n\n\tvalidateFormSubmission() {\n\t\t// Check if the form exists\n\t\tif (isDefined(this.$elements.mainForm)) {\n\t\t\t// Bind submission\n\t\t\tthis.$elements.mainForm.onsubmit = (event) => {\n\t\t\t\t// Create a variable to evaluate if the form has errors later\n\t\t\t\tlet canSubmit = true;\n\n\t\t\t\t// Check if the recaptcha is enabled, but the checkbox is not checked\n\t\t\t\tif (this.hasReCAPTCHA() && !this.isCaptchaChecked()) {\n\t\t\t\t\t// Add a CSS class for the reCAPTCHA error\n\t\t\t\t\tthis.$elements.container.classList.add(this.cssClasses.reCAPTCHAerror);\n\n\t\t\t\t\t// Update the error status\n\t\t\t\t\tcanSubmit = false;\n\n\t\t\t\t\t// Set frontend error\n\t\t\t\t\tthis.setError(UncannyToolkit.frontendLogin.i18n.checkReCaptcha);\n\n\t\t\t\t\tconsole.error('✋Frontend Login: The form is using reCAPTCHA, but you didn\\'t pass the verification');\n\t\t\t\t}\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent(`uncanny-toolkit/frontend-login/${this.id}/validated`, {\n\t\t\t\t\tisValid: canSubmit\n\t\t\t\t});\n\n\t\t\t\t// Check if we can submit the form\n\t\t\t\tif (canSubmit) {\n\t\t\t\t\t// Submit the form\n\t\t\t\t\tthis.submitForm(event);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Prevent the form submission\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tconsole.error('✋Frontend Login: Submission prevented');\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\tsubmitForm(event) {\n\t\t// Hide errors\n\t\tthis.setError(false);\n\n\t\t// Add the loading animation\n\t\tthis.setLoadingStatus(true);\n\n\t\t// Disable the submit button\n\t\tthis.setButtonDisableStatus(true);\n\n\t\t/**\n\t\t * Handles the AJAX submission\n\t\t * \n\t\t * @return {undefined}\n\t\t */\n\t\tconst handleAJAX = () => {\n\t\t\t// Trigger custom event\n\t\t\ttriggerEvent(`uncanny-toolkit/frontend-login/${this.id}/submitting`);\n\n\t\t\t// Do AJAX call\n\t\t\tAJAXRequest(this.ajaxAction, this.formData, (response) => {\n\t\t\t\t// Remove the loading animation\n\t\t\t\tthis.setLoadingStatus(false);\n\n\t\t\t\t// Enable the submit button\n\t\t\t\tthis.setButtonDisableStatus(false);\n\n\t\t\t\t// Check if the call was really successful\n\t\t\t\tif (response.success) {\n\t\t\t\t\t// Trigger custom event\n\t\t\t\t\ttriggerEvent(`uncanny-toolkit/frontend-login/${this.id}/submitted`, {\n\t\t\t\t\t\tsuccess: true\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.afterValidSubmission(response);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Trigger custom event\n\t\t\t\t\ttriggerEvent(`uncanny-toolkit/frontend-login/${this.id}/submitted`, {\n\t\t\t\t\t\tsuccess: false,\n\t\t\t\t\t\tmessage: isDefined(response.message) ? response.message : UncannyToolkit.i18n.error.generic\n\t\t\t\t\t});\n\n\t\t\t\t\t// Check if there is a message\n\t\t\t\t\tif (isDefined(response.message)) {\n\t\t\t\t\t\t// Show the error\n\t\t\t\t\t\tthis.setError(response.message);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Set a generic error message\n\t\t\t\t\t\tthis.setError(UncannyToolkit.i18n.error.generic);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Reset reCAPTCHA\n\t\t\t\t\tthis.resetReCAPTCHA();\n\t\t\t\t}\n\t\t\t}, (response) => {\n\t\t\t\t// Check if we have the error code and the code is 302\n\t\t\t\tif (isDefined(response.code) && response.code == 302) {\n\t\t\t\t\t// Check if \"Prevent Concurrent Login\" is active\n\t\t\t\t\tif (UncannyToolkit.integrity.shouldPreventConcurrentLogin) {\n\t\t\t\t\t\t// Set custom LD message\n\t\t\t\t\t\tresponse.message = UncannyToolkit.i18n.preventConcurrentLogin;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Check if this is a 2FA redirect (in error callback because success=false)\n\t\t\t\tif (window.UltimateLogin2FARedirect && window.UltimateLogin2FARedirect.handleResponse(response)) {\n\t\t\t\t\t// Redirect was handled, stop processing\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent(`uncanny-toolkit/frontend-login/${this.id}/submitted`, {\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\tmessage: isDefined(response.message) ? response.message : UncannyToolkit.i18n.error.generic\n\t\t\t\t});\n\n\t\t\t\t// Check if there is a message\n\t\t\t\tif (isDefined(response.message)) {\n\t\t\t\t\t// Show the error\n\t\t\t\t\tthis.setError(response.message);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Set a generic error message\n\t\t\t\t\tthis.setError(UncannyToolkit.i18n.error.generic);\n\t\t\t\t}\n\n\t\t\t\t// Reset reCAPTCHA\n\t\t\t\tthis.resetReCAPTCHA();\n\n\t\t\t\t// Remove the loading animation\n\t\t\t\tthis.setLoadingStatus(false);\n\n\t\t\t\t// Enable the submit button\n\t\t\t\tthis.setButtonDisableStatus(false);\n\t\t\t}, {\n\t\t\t\tincludeNonce: false\n\t\t\t});\n\t\t}\n\n\t\t// If it's not using the LD reCAPTCHA and AJAX is enabled.\n\t\tif (!this.isUsingLearnDashReCaptcha() && UncannyToolkit.frontendLogin.hasAjaxEnabled) {\n\t\t\t// Prevent the form submission\n\t\t\tevent.preventDefault();\n\t\t\t// Handle AJAX\n\t\t\thandleAJAX();\n\t\t} else {\n\t\t\t// If it's using LD's reCAPTCHA:\n\n\t\t\t// Check if it's using AJAX\n\t\t\tif (UncannyToolkit.frontendLogin.hasAjaxEnabled) {\n\t\t\t\t// Prevent the form submission\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// Handle reCAPTCHA\n\t\t\t\t// The callback will be invoked once the reCAPTCHA is validated\n\t\t\t\tthis.handleLearnDashReCaptcha(() => {\n\t\t\t\t\t// Handle AJAX\n\t\t\t\t\thandleAJAX();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t// Check if it has the required data already\n\t\t\t\t// We're doing this because for non-AJAX forms this is a recursive function\n\t\t\t\t// Once validated, it will invoke itself. We have to prevent an infinito loop,\n\t\t\t\t// so after the data is validated, we add a hidden field to the form.\n\t\t\t\t// If the field exists, it means this function was already executed, and that we\n\t\t\t\t// don't have to prevent the submission again. (Only for non-AJAX forms)\n\t\t\t\tif (!this.hasLearnDashReCaptchField()) {\n\t\t\t\t\t// Prevent the form submission even if it's not using AJAX\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t// Handle reCAPTCHA\n\t\t\t\t\t// The callback will be invoked once the reCAPTCHA is validated\n\t\t\t\t\tthis.handleLearnDashReCaptcha(() => {\n\t\t\t\t\t\t// Submit the form again\n\t\t\t\t\t\tthis.$elements.mainForm.submit();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tafterValidSubmission(response) { }\n\n\tsetLoadingStatus(setAsLoading = true) {\n\t\t// Check if we have to add a loading animation to the submit button\n\t\tif (UncannyToolkit.frontendLogin.ui.showAnimationOnSubmit) {\n\t\t\t// Check if we have to enable the loading status\n\t\t\tif (setAsLoading) {\n\t\t\t\t// Add the loading animation\n\t\t\t\tthis.$elements.container.classList.add(this.cssClasses.loading);\n\t\t\t\tthis.$elements.submitButton.container.classList.add(this.cssClasses.btnLoading);\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent(`uncanny-toolkit/frontend-login/${this.id}/set-loading`, {\n\t\t\t\t\tisLoading: true\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Remove the loading status\n\t\t\t\tthis.$elements.container.classList.remove(this.cssClasses.loading);\n\t\t\t\tthis.$elements.submitButton.container.classList.remove(this.cssClasses.btnLoading);\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent(`uncanny-toolkit/frontend-login/${this.id}/set-loading`, {\n\t\t\t\t\tisLoading: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tsetButtonDisableStatus(setAsDisabled = true) {\n\t\t// Check if we have to disable the submit button\n\t\tif (UncannyToolkit.frontendLogin.ui.buttonDisabledOnSubmit) {\n\t\t\t// Check if we have to set it as disabled\n\t\t\tif (setAsDisabled) {\n\t\t\t\t// Disable the submit button\n\t\t\t\tthis.$elements.container.classList.add(this.cssClasses.disabled);\n\t\t\t\tthis.$elements.submitButton.container.classList.add(this.cssClasses.btnDisabled);\n\t\t\t\tthis.$elements.submitButton.button.setAttribute('disabled', true);\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent(`uncanny-toolkit/frontend-login/${this.id}/disable-button`, {\n\t\t\t\t\tdisable: true\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Disable the submit button\n\t\t\t\tthis.$elements.container.classList.remove(this.cssClasses.disabled);\n\t\t\t\tthis.$elements.submitButton.container.classList.remove(this.cssClasses.btnDisabled);\n\t\t\t\tthis.$elements.submitButton.button.removeAttribute('disabled');\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent(`uncanny-toolkit/frontend-login/${this.id}/disable-button`, {\n\t\t\t\t\tdisable: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tsetError(error = false) {\n\t\t// Check if the error is defined\n\t\tif (!isEmpty(error)) {\n\t\t\t// Set the class to show the notice\n\t\t\tthis.$elements.errorNotice.container.classList.add(this.cssClasses.noticeHasError);\n\n\t\t\t// Set the error message\n\t\t\tthis.$elements.errorNotice.textNode.innerHTML = error;\n\t\t}\n\t\telse {\n\t\t\t// Set the class to hide the notice\n\t\t\tthis.$elements.errorNotice.container.classList.remove(this.cssClasses.noticeHasError);\n\n\t\t\t// Set the error message\n\t\t\tthis.$elements.errorNotice.textNode.textContent = '';\n\n\t\t\t// Remove a CSS class for the reCAPTCHA error\n\t\t\tthis.$elements.container.classList.remove(this.cssClasses.reCAPTCHAerror);\n\t\t}\n\t}\n\n\thandleReCaptchaChanges() {\n\t\t// Add global method to handle what happened when\n\t\t// the reCAPTCHA is checked\n\t\tUncannyToolkit.frontendLogin.reCaptcha = {\n\t\t\tcorrect: (response) => {\n\t\t\t\t// Reset errors\n\t\t\t\tthis.setError(false);\n\t\t\t}\n\t\t}\n\t}\n\n\thasReCAPTCHA() {\n\t\treturn isDefined(this.$elements.formFields.reCAPTCHA);\n\t}\n\n\tgetReCAPTCHAResponse() {\n\t\t// Get the reCAPTCHA ID\n\t\tconst id = this.$elements.formFields.reCAPTCHA.getAttribute('data-id');\n\n\t\t// Get the response\n\t\treturn grecaptcha.getResponse(id);\n\t}\n\n\tresetReCAPTCHA() {\n\t\ttry {\n\t\t\t// Get the reCAPTCHA ID\n\t\t\tconst id = this.$elements.formFields.reCAPTCHA.getAttribute('data-id');\n\n\t\t\t// Reset the reCAPTCHA\n\t\t\tgrecaptcha.reset(id);\n\t\t} catch (e) { }\n\t}\n\n\tisOnModal() {\n\t\treturn isDefined(UncannyToolkit.modals['ult-login']);\n\t}\n\n\tisCaptchaChecked() {\n\t\treturn !isEmpty(this.getReCAPTCHAResponse());\n\t}\n\n\tshouldInvokeMethods() {\n\t\treturn isDefined(this.$elements.container);\n\t}\n\n\thandleLearnDashReCaptcha(callback) {\n\t\t// Check if it's using LD's reCAPTCHA\n\t\tif (this.isUsingLearnDashReCaptcha()) {\n\t\t\t// Invoke the challenge\n\t\t\tgrecaptcha.ready(() => {\n\t\t\t\tgrecaptcha.execute(\n\t\t\t\t\tLD_TP.site_key,\n\t\t\t\t\t{ action: 'submit' }\n\t\t\t\t).then((token) => {\n\t\t\t\t\t// Add hidden field to the form\n\t\t\t\t\tif (isDefined(this.$elements.mainForm)) {\n\t\t\t\t\t\t// Add hidden field with token\n\t\t\t\t\t\tthis.$elements.mainForm.insertAdjacentHTML('afterbegin', `<input type=\"hidden\" id=\"ult-form-ld-recaptcha\" name=\"token\" value=\"${token}\">`);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Invoke callback\n\t\t\t\t\tif (isDefined(callback)) {\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t} else {\n\t\t\t// Just invoke the callback\n\t\t\tif (isDefined(callback)) {\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t}\n\n\tisUsingLearnDashReCaptcha() {\n\t\t// Check if grecaptcha is defined\n\t\t// Check if LD_TP is defined\n\t\t// Check if LD_TP.site_key is defined\n\t\treturn isDefined(window.grecaptcha) && isDefined(window.LD_TP) && isDefined(LD_TP.site_key);\n\t}\n\n\thasLearnDashReCaptchField() {\n\t\tlet hasField = false;\n\n\t\t// Check if the element exists\n\t\tif (isDefined(this.$elements.mainForm)) {\n\t\t\t// Check if the field exists\n\t\t\thasField = isDefined(this.$elements.mainForm.querySelector('input[name=\"token\"]'));\n\t\t}\n\n\t\treturn hasField;\n\t}\n}\nexport class Login extends FrontendLogin {\n\tconstructor() {\n\t\tsuper();\n\n\t\t// Set visibility of content of password field\n\t\tnew PasswordField(this.$elements.formFields.password);\n\t}\n\n\tgetElements() {\n\t\t// Get the main elements\n\t\tthis.$elements = {\n\t\t\tcontainer: document.getElementById('ult-login'),\n\t\t\tmainForm: document.getElementById('ult-login-form'),\n\t\t\tsubmitButton: {\n\t\t\t\tcontainer: document.getElementsByClassName('login-submit')[0],\n\t\t\t\tbutton: document.getElementById('ult-login-submit')\n\t\t\t},\n\t\t\terrorNotice: {\n\t\t\t\tcontainer: document.querySelector('#ult-login .ult-form__validation'),\n\t\t\t\ttextNode: document.querySelector('#ult-login .ult-notice-text'),\n\t\t\t},\n\t\t\tformFields: {\n\t\t\t\temail: document.getElementById('ult-login-email'),\n\t\t\t\tpassword: document.getElementById('ult-login-password'),\n\t\t\t\tredirectTo: document.querySelector('#ult-login .login-submit input[name=\"redirect_to\"]'),\n\t\t\t\treCAPTCHA: document.querySelector('#ult-login .ult-form-recaptcha'),\n\t\t\t\trememberMe: document.getElementById('ult-login-remember'),\n\t\t\t}\n\t\t}\n\t}\n\n\tget id() {\n\t\treturn 'login';\n\t}\n\n\t// Define the AJAX action ID\n\tget ajaxAction() {\n\t\treturn 'ult-login';\n\t}\n\n\tget cssClasses() {\n\t\treturn {\n\t\t\treCAPTCHAerror: 'ult-login--recaptcha-error',\n\t\t\tloading: 'ult-login--loading',\n\t\t\tdisabled: 'ult-login--disabled',\n\t\t\tbtnLoading: 'ult-form__submit-btn--loading',\n\t\t\tbtnDisabled: 'ult-form__submit-btn--disabled',\n\t\t\tnoticeHasError: 'ult-form__validation--has-error',\n\t\t};\n\t}\n\n\tget formData() {\n\n\t\t// The form data.\n\t\tconst formDataDefault = {\n\t\t\temail: this.$elements.formFields.email.value,\n\t\t\tpassword: this.$elements.formFields.password.value,\n\t\t\tredirectTo: this.$elements.formFields.redirectTo.value,\n\t\t}\n\n\t\t// Merge the default data with modules specific.\n\t\tconst formData = Object.assign({}, formDataDefault, UOToolkitFrontEndLoginFormData);\n\n\t\t// Check if it has the \"Remember me\" checkbox\n\t\tif (isDefined(this.$elements.formFields.rememberMe)) {\n\t\t\tformData.rememberMe = this.$elements.formFields.rememberMe.checked;\n\t\t}\n\n\t\t// Check if it has a reCAPTCHA\n\t\tif (this.hasReCAPTCHA()) {\n\t\t\tformData['g-recaptcha-response'] = this.getReCAPTCHAResponse();\n\t\t}\n\n\t\t// Check if it has a LearnDash reCAPTCHA\n\t\tif (isDefined(this.$elements.mainForm.querySelector('#ult-form-ld-recaptcha'))) {\n\t\t\tformData.token = this.$elements.mainForm.querySelector('#ult-form-ld-recaptcha').value;\n\t\t}\n\n\t\t// Check if it has a uo_is_login_modal hidden field to detect login modal request.\n\t\tif (isDefined(this.$elements.mainForm.querySelector('input[name=\"uo_is_login_modal\"]'))) {\n\t\t\tformData.uo_is_login_modal = this.$elements.mainForm.querySelector('input[name=\"uo_is_login_modal\"]').value;\n\t\t}\n\n\t\treturn formData;\n\t}\n\n\tafterValidSubmission(response) {\n\n\t\t// Show the loading animation again, we're going \n\t\t// to redirect them to another page and it might\n\t\t// take some seconds\n\n\t\t// Add the loading animation\n\t\tthis.setLoadingStatus(true);\n\n\t\t// Disable the submit button\n\t\tthis.setButtonDisableStatus(true);\n\n\t\t// Check if this requires a 2FA redirect (new unified approach)\n\t\tif (window.UltimateLogin2FARedirect && window.UltimateLogin2FARedirect.handleResponse(response)) {\n\t\t\t// Redirect was handled, stop processing\n\t\t\treturn;\n\t\t}\n\n\t\t// Legacy 2FA handling (fallback - should not be needed with new approach)\n\t\tif (response?.twoFactor?._meta?.enabled) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if we have to redirect to a URL\n\t\tif (!isEmpty(response.redirectTo)) {\n\t\t\twindow.location.href = response.redirectTo;\n\t\t}\n\t\t// Otherwise, just reload the page\n\t\telse {\n\t\t\twindow.location.reload();\n\t\t}\n\n\t}\n\n}\n\nexport class ForgotPassword extends FrontendLogin {\n\tgetElements() {\n\t\t// Get the main elements\n\t\tthis.$elements = {\n\t\t\tcontainer: document.getElementById('ult-forgot-password'),\n\t\t\tboxContent: document.querySelector('#ult-forgot-password .ult-form__content'),\n\t\t\tmainForm: document.getElementById('ult-forgot-password-form'),\n\t\t\tsubmitButton: {\n\t\t\t\tcontainer: document.querySelector('.ult-form__row--submit'),\n\t\t\t\tbutton: document.getElementById('ult-forgot-password-submit-btn')\n\t\t\t},\n\t\t\terrorNotice: {\n\t\t\t\tcontainer: document.querySelector('#ult-forgot-password .ult-form__validation'),\n\t\t\t\ttextNode: document.querySelector('#ult-forgot-password .ult-notice-text'),\n\t\t\t},\n\t\t\tformFields: {\n\t\t\t\temail: document.getElementById('ult-forgot-email'),\n\t\t\t\treCAPTCHA: document.querySelector('#ult-forgot-password .ult-form-recaptcha'),\n\t\t\t}\n\t\t}\n\t}\n\n\tget id() {\n\t\treturn 'forgot-password';\n\t}\n\n\t// Define the AJAX action ID\n\tget ajaxAction() {\n\t\treturn 'ult-forgot-password';\n\t}\n\n\tget cssClasses() {\n\t\treturn {\n\t\t\treCAPTCHAerror: 'ult-forgot-password--recaptcha-error',\n\t\t\tloading: 'ult-forgot-password--loading',\n\t\t\tdisabled: 'ult-forgot-password--disabled',\n\t\t\tbtnLoading: 'ult-form__submit-btn--loading',\n\t\t\tbtnDisabled: 'ult-form__submit-btn--disabled',\n\t\t\tnoticeHasError: 'ult-form__validation--has-error'\n\t\t};\n\t}\n\n\tget formData() {\n\t\t// Get the form data\n\t\tconst formDataDefault = {\n\t\t\temail: this.$elements.formFields.email.value\n\t\t}\n\n\t\tconst formData = Object.assign({}, formDataDefault, UOToolkitFrontEndLoginFormData);\n\n\t\t// Check if it has a reCAPTCHA\n\t\tif (this.hasReCAPTCHA()) {\n\t\t\tformData['g-recaptcha-response'] = this.getReCAPTCHAResponse();\n\t\t}\n\n\t\t// Check if it has a LearnDash reCAPTCHA\n\t\tif (isDefined(this.$elements.mainForm.querySelector('#ult-form-ld-recaptcha'))) {\n\t\t\tformData.token = this.$elements.mainForm.querySelector('#ult-form-ld-recaptcha').value;\n\t\t}\n\n\t\treturn formData;\n\t}\n\n\tafterValidSubmission(response) {\n\t\t// Show a confirmation message\n\t\tthis.$elements.boxContent.innerHTML = response.message;\n\t}\n}\n\nexport class ResetPassword extends FrontendLogin {\n\tgetElements() {\n\t\t// Get the main elements\n\t\tthis.$elements = {\n\t\t\tcontainer: document.getElementById('ult-reset-password'),\n\t\t\tboxContent: document.querySelector('#ult-reset-password .ult-form__content'),\n\t\t\tmainForm: document.getElementById('ult-reset-password-form'),\n\t\t\tsubmitButton: {\n\t\t\t\tcontainer: document.querySelector('.ult-form__row--submit'),\n\t\t\t\tbutton: document.getElementById('ult-reset-password-submit-btn')\n\t\t\t},\n\t\t\terrorNotice: {\n\t\t\t\tcontainer: document.querySelector('#ult-reset-password .ult-form__validation'),\n\t\t\t\ttextNode: document.querySelector('#ult-reset-password .ult-notice-text'),\n\t\t\t},\n\t\t\tformFields: {\n\t\t\t\tpassword: document.getElementById('ult-reset-new-password'),\n\t\t\t\tpasswordRepeat: document.getElementById('ult-reset-confirm-password'),\n\t\t\t\treCAPTCHA: document.querySelector('#ult-reset-password .ult-form-recaptcha'),\n\t\t\t}\n\t\t}\n\t}\n\n\tget id() {\n\t\treturn 'reset-password';\n\t}\n\n\t// Define the AJAX action ID\n\tget ajaxAction() {\n\t\treturn 'ult-reset-password';\n\t}\n\n\tget cssClasses() {\n\t\treturn {\n\t\t\treCAPTCHAerror: 'ult-reset-password--recaptcha-error',\n\t\t\tloading: 'ult-reset-password--loading',\n\t\t\tdisabled: 'ult-reset-password--disabled',\n\t\t\tbtnLoading: 'ult-form__submit-btn--loading',\n\t\t\tbtnDisabled: 'ult-form__submit-btn--disabled',\n\t\t\tnoticeHasError: 'ult-form__validation--has-error'\n\t\t};\n\t}\n\n\tget formData() {\n\t\t// Get the form data\n\t\tconst formData = {\n\t\t\tpassword: this.$elements.formFields.password.value,\n\t\t\tpasswordRepeat: this.$elements.formFields.passwordRepeat.value,\n\t\t}\n\n\t\t// Check if it has a reCAPTCHA\n\t\tif (this.hasReCAPTCHA()) {\n\t\t\tformData['g-recaptcha-response'] = this.getReCAPTCHAResponse();\n\t\t}\n\n\t\t// Check if it has a LearnDash reCAPTCHA\n\t\tif (isDefined(this.$elements.mainForm.querySelector('#ult-form-ld-recaptcha'))) {\n\t\t\tformData.token = this.$elements.mainForm.querySelector('#ult-form-ld-recaptcha').value;\n\t\t}\n\n\t\treturn formData;\n\t}\n\n\tafterValidSubmission(response) {\n\t\t// Show a confirmation message\n\t\tthis.$elements.boxContent.innerHTML = response.message;\n\t}\n}\n\n/**\n * This class handles the login functionality when it's inside a dialog\n */\nexport class FrontendLogin_Modal {\n\tconstructor() {\n\t\t// Check if we should invoke the callbacks\n\t\tif (this.shouldInvokeMethods()) {\n\t\t\t// Get elements\n\t\t\tthis.getElements();\n\n\t\t\t// Handle clicks to the buttons to show the sections\n\t\t\tthis.handleContainerVisiblity();\n\t\t}\n\t\telse {\n\t\t\t// Check if the current page is the Login page\n\t\t\t// That would mean that the modal is not defined here\n\t\t\t// We want to reload the page when they click on the \"Login\" link\n\t\t\tif (\n\t\t\t\tisDefined(UncannyToolkit.frontendLogin) &&\n\t\t\t\tisDefined(UncannyToolkit.frontendLogin.currentPageIsLoginPage) &&\n\t\t\t\tUncannyToolkit.frontendLogin.currentPageIsLoginPage\n\t\t\t) {\n\t\t\t\tthis.handleModalInLoginPage();\n\t\t\t}\n\t\t}\n\t}\n\n\tgetElements() {\n\t\tthis.$elements = {\n\t\t\tcontainer: document.getElementById('ult-login-modal'),\n\t\t\tloginShowButton: document.getElementById('ult-form-footer-login'),\n\t\t\tforgotPasswordShowButton: document.getElementById('ult-form-footer-forgot-password'),\n\t\t}\n\t}\n\n\thandleContainerVisiblity() {\n\t\tif (isDefined(this.$elements.forgotPasswordShowButton)) {\n\t\t\t// Listen clicks to the button to show the Forgot Password section\n\t\t\tthis.$elements.forgotPasswordShowButton.addEventListener('click', (event) => {\n\t\t\t\t// Prevent the event, we don't want to send them to another page\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// Show the Forgot Password form\n\t\t\t\tthis.showSection('forgot-password');\n\t\t\t});\n\t\t}\n\n\t\tif (isDefined(this.$elements.loginShowButton)) {\n\t\t\t// Listen clicks to the button to show the Log in section\n\t\t\tthis.$elements.loginShowButton.addEventListener('click', (event) => {\n\t\t\t\t// Prevent the event, we don't want to send them to another page\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// Show the Forgot Password form\n\t\t\t\tthis.showSection('login');\n\t\t\t});\n\t\t}\n\t}\n\n\tshowSection(section = 'login') {\n\t\t// Remove both classes. We'll add the correct one later\n\t\tthis.$elements.container.classList.remove('ult-login-modal--login', 'ult-login-modal--forgot-password');\n\n\t\t// Show and hide sections\n\t\tif (section == 'login') {\n\t\t\tthis.$elements.container.classList.add('ult-login-modal--login');\n\t\t}\n\t\telse if (section == 'forgot-password') {\n\t\t\tthis.$elements.container.classList.add('ult-login-modal--forgot-password');\n\t\t}\n\t}\n\n\tshouldInvokeMethods() {\n\t\treturn (\n\t\t\tisDefined(UncannyToolkit.frontendLogin) &&\n\t\t\tisDefined(UncannyToolkit.frontendLogin.currentPageIsLoginPage) &&\n\t\t\t!UncannyToolkit.frontendLogin.currentPageIsLoginPage &&\n\t\t\tisDefined(UncannyToolkit.modals['ult-login'])\n\t\t);\n\t}\n\n\thandleModalInLoginPage() {\n\t\tevents.on('click', `[href*=\"ult-modal-open----ult-login\"]`, (event) => {\n\t\t\t// Prevent default\n\t\t\tevent.preventDefault();\n\n\t\t\t// Reload the page\n\t\t\tlocation.reload();\n\t\t});\n\t}\n}\n\nexport class Login2ndFactor {\n\tid = 'login-2nd-factor';\n\n\tconstructor() {\n\t\t// Check if the form exists\n\t\tif (this.$form) {\n\t\t\t// Listen submission\n\t\t\tthis.listenSubmission();\n\t\t}\n\t}\n\n\t/**\n\t * Listens the submission of the form\n\t */\n\tlistenSubmission() {\n\t\tthis.$form.addEventListener('submit', (event) => {\n\t\t\t// Add loading animation to the button\n\t\t\tthis.setLoadingStatus(true);\n\n\t\t\t// Disable button\n\t\t\tthis.setButtonDisableStatus(true);\n\t\t});\n\t}\n\n\t/**\n\t * Sets the loading status\n\t * \n\t * @param {Boolean} setAsLoading TRUE if it should show the loading animation\n\t */\n\tsetLoadingStatus(setAsLoading = true) {\n\t\t// Check if we have to add a loading animation to the submit button\n\t\tif (UncannyToolkit.frontendLogin.ui.showAnimationOnSubmit) {\n\t\t\t// Check if we have to enable the loading status\n\t\t\tif (setAsLoading) {\n\t\t\t\t// Add the loading animation\n\t\t\t\tthis.$elements.container.classList.add(this.cssClasses.loading);\n\t\t\t\tthis.$elements.submitButton.container.classList.add(this.cssClasses.btnLoading);\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent(`uncanny-toolkit/frontend-login/${this.id}/set-loading`, {\n\t\t\t\t\tisLoading: true\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Remove the loading status\n\t\t\t\tthis.$elements.container.classList.remove(this.cssClasses.loading);\n\t\t\t\tthis.$elements.submitButton.container.classList.remove(this.cssClasses.btnLoading);\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent(`uncanny-toolkit/frontend-login/${this.id}/set-loading`, {\n\t\t\t\t\tisLoading: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Sets the disabled status\n\t * \n\t * @param {Boolean} setAsDisabled TRUE if it should disable the form\n\t */\n\tsetButtonDisableStatus(setAsDisabled = true) {\n\t\t// Check if we have to disable the submit button\n\t\tif (UncannyToolkit.frontendLogin.ui.buttonDisabledOnSubmit) {\n\t\t\t// Check if we have to set it as disabled\n\t\t\tif (setAsDisabled) {\n\t\t\t\t// Disable the submit button\n\t\t\t\tthis.$elements.container.classList.add(this.cssClasses.disabled);\n\t\t\t\tthis.$elements.submitButton.container.classList.add(this.cssClasses.btnDisabled);\n\t\t\t\tthis.$elements.submitButton.button.setAttribute('disabled', true);\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent(`uncanny-toolkit/frontend-login/${this.id}/disable-button`, {\n\t\t\t\t\tdisable: true\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Disable the submit button\n\t\t\t\tthis.$elements.container.classList.remove(this.cssClasses.disabled);\n\t\t\t\tthis.$elements.submitButton.container.classList.remove(this.cssClasses.btnDisabled);\n\t\t\t\tthis.$elements.submitButton.button.removeAttribute('disabled');\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent(`uncanny-toolkit/frontend-login/${this.id}/disable-button`, {\n\t\t\t\t\tdisable: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns the CSS classes used in the elements of this form\n\t * \n\t * @return {Object} CSS classes\n\t */\n\tget cssClasses() {\n\t\treturn {\n\t\t\tloading: 'ult-login--loading',\n\t\t\tdisabled: 'ult-login--disabled',\n\t\t\tbtnLoading: 'ult-form__submit-btn--loading',\n\t\t\tbtnDisabled: 'ult-form__submit-btn--disabled',\n\t\t};\n\t}\n\n\t/**\n\t * Returns the main elements of the form\n\t * \n\t * @return {Object} Object of Nodes\n\t */\n\tget $elements() {\n\t\treturn {\n\t\t\tcontainer: document.getElementById('ult-login'),\n\t\t\tsubmitButton: {\n\t\t\t\tcontainer: this.$form.querySelector('.submit'),\n\t\t\t\tbutton: this.$form.querySelector('.submit input[type=\"submit\"]')\n\t\t\t},\n\t\t}\n\t}\n\n\t/**\n\t * Returns the main form\n\t * \n\t * @return {Node} The form\n\t */\n\tget $form() {\n\t\treturn document.getElementById('ult-2fa-validation-form--templated');\n\t}\n}","import {\n\tisDefined\n} from './_utilities';\n\n/**\n * Render reCAPTCHAs\n */\n\nclass reCAPTCHAs {\n\tconstructor(){\n\t\t// Get elements\n\t\tthis.whenReady(() => {\n\t\t\t// Render the reCAPTCHAs\n\t\t\tthis.renderReCaptchas();\n\t\t});\n\t}\n\n\twhenReady( callback ){\n\t\t// Define a function that will be invoked once Google reCAPTCHA\n\t\t// is ready to use\n\t\twindow.UncannyToolkit.reCaptchaInit = () => {\n\t\t\t// Invoke the callback\n\t\t\tcallback();\n\t\t}\n\t}\n\n\trenderReCaptchas(){\n\t\t// Get containers\n\t\tconst $reCAPTCHAs = document.querySelectorAll( '.ult-form-recaptcha' );\n\n\t\t// Iterate the elements\n\t\t[].forEach.call( $reCAPTCHAs, ( $reCAPTCHA ) => {\n\t\t\t// Render the reCAPTCHA\n\t\t\tconst id = window.grecaptcha.render( $reCAPTCHA, {\n\t\t\t\tsitekey:  $reCAPTCHA.getAttribute( 'data-sitekey' ),\n\t\t\t\tcallback: $reCAPTCHA.getAttribute( 'data-callback' )\n\t\t\t});\n\n\t\t\t// Add the ID to the element so we can get the correct\n\t\t\t// validation token later\n\t\t\t$reCAPTCHA.setAttribute( 'data-id', id );\n\t\t});\n\t}\n}\n\nexport default reCAPTCHAs;","const events = require( 'eventslibjs' );\n\nimport {\n\tfade,\n\tdelegateEvent,\n\tisEmpty,\n\tisDefined\n} from './_utilities';\n\nclass Modals {\n\tconstructor(){\n\t\t// Create an array to save the IDs of all the modals\n\t\t// on this page\n\t\tthis.allModals = [];\n\n\t\t// Create a property in the main global object\n\t\t// to save the modals\n\t\tUncannyToolkit.modals = {};\n\n\t\t// Get elements\n\t\tthis.getElements();\n\n\t\t// Initialize modals\n\t\tthis.createModals();\n\t}\n\n\tgetElements(){\n\t\tthis.$elements = {\n\t\t\tmodals: document.querySelectorAll( '.ult-modal' )\n\t\t}\n\t}\n\n\tcreateModals(){\n\t\t// Itearate the modals (if any)\n\t\t[].forEach.call( this.$elements.modals, ( $modal ) => {\n\t\t\t// Get the modal ID\n\t\t\tconst modalID = isDefined( $modal.getAttribute( 'data-id' ) ) ? $modal.getAttribute( 'data-id' ) : '';\n\n\t\t\t// Check if there isn't already a modal with that ID\n\t\t\tif ( ! this.allModals.includes( modalID ) ){\n\t\t\t\t// Then create the modal\n\t\t\t\tlet modal = new Modal( $modal );\n\n\t\t\t\t// And save the ID\n\t\t\t\tthis.allModals.push( modalID );\n\n\t\t\t\t// Save the modal in the main global variable\n\t\t\t\tUncannyToolkit.modals[ modalID ] = modal;\n\t\t\t}\n\t\t});\n\t}\n}\n\nclass Modal {\n\tconstructor( $modalContent ){\n\t\t// Get the modal data\n\t\tthis.getModalData( $modalContent );\n\n\t\t// Render the modal\n\t\tthis.renderModal( $modalContent );\n\n\t\t// Listen clicks to containers that are trying to open the modal\n\t\tthis.handleModalOpen();\n\n\t\t// Listen clicks outside the modal box\n\t\tthis.handleClickOutsideTheModal();\n\t}\n\n\tgetModalData( $modalContent ){\n\t\t// Get the main modal data like ID, title and the parameter\n\t\t// that defines whether it should have the \"Discard\" button\n\t\tthis.modalData = {\n\t\t\tid:         isDefined( $modalContent.getAttribute( 'data-id' ) ) ? $modalContent.getAttribute( 'data-id' ) : '',\n\t\t\ttitle:      isDefined( $modalContent.getAttribute( 'data-title' ) ) ? $modalContent.getAttribute( 'data-title' ) : '',\n\t\t\tbtnDismiss: isDefined( $modalContent.getAttribute( 'data-btn-dismiss' ) ) ? !! parseInt( $modalContent.getAttribute( 'data-btn-dismiss' ) ) : true,\n\t\t\tdimBackground: isDefined( $modalContent.getAttribute( 'data-dim-background' ) ) ? !! parseInt( $modalContent.getAttribute( 'data-dim-background' ) ) : true,\n\t\t}\n\t}\n\n\trenderModal( $modalContent ){\n\t\t// Create the modal\n\t\tconst $modal = document.createElement( 'div' );\n\n\t\t// Set the element ID\n\t\t$modal.id = `ult-modal-container-${ this.modalData.id }`;\n\n\t\t// Add class to the main container\n\t\t$modal.classList.add( 'ult-modal-container' );\n\n\t\t// Set the data-id attribute\n\t\t$modal.setAttribute( 'data-id', this.modalData.id );\n\n\t\t// Set the children\n\t\t$modal.innerHTML = `\n\t\t\t<div class=\"ult-modal__inside\">\n\t\t\t\t<div class=\"ult-modal-box\">\n\t\t\t\t\t${ ! isEmpty( this.modalData.title ) ? `\n\t\t\t\t\t\t<div class=\"ult-modal-box-header\">\n\t\t\t\t\t\t\t<h2>${ this.modalData.title }</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t` : '' }\n\n\t\t\t\t\t<div class=\"ult-modal-box-content\"></div>\n\n\t\t\t\t\t${ this.modalData.btnDismiss ? `\n\t\t\t\t\t\t<div class=\"ult-modal-box-footer\">\n\t\t\t\t\t\t\t<button class=\"ult-modal-box-footer__dismiss\">\n\t\t\t\t\t\t\t\t${ UncannyToolkit.i18n.dismiss }\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t` : '' }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\t// Add the modal content\n\t\t$modal.querySelector( '.ult-modal-box-content' ).appendChild( $modalContent );\n\n\t\t// Add the modal to the end of the document\n\t\tdocument.body.appendChild( $modal );\n\n\t\t// Save the main elements\n\t\tthis.$elements = {\n\t\t\tcontainer: $modal,\n\t\t\tbox: $modal.querySelector( '.ult-modal-box' ),\n\t\t\tcontent: $modal.querySelector( '.ult-modal-box-content .ult-modal' )\n\t\t}\n\n\t\t// Check if it has the dismiss button\n\t\tif ( this.modalData.btnDismiss ){\n\t\t\t// Get the dismiss button\n\t\t\tthis.$elements.dismissBtn = $modal.querySelector( '.ult-modal-box-footer__dismiss' );\n\n\t\t\t// Add the event listener\n\t\t\tthis.handleDismissButton();\n\t\t}\n\t}\n\n\thandleModalOpen(){\n\t\t// Listen clicks to the document, but invoke the callback only if the\n\t\t// clicked element matches one of the following selectors:\n\t\t// 1. .ult-modal-open[data-id=\"${ this.modalData.id }\"]\n\t\t// 2. [class*=\"ult-modal-open----${ this.modalData.id }\"]\n\t\t// 3. [href*=\"ult-modal-open----${ this.modalData.id }\"]\n\t\tevents.on( 'click', `.ult-modal-open[data-id=\"${ this.modalData.id }\"], [class*=\"ult-modal-open----${ this.modalData.id }\"], [href*=\"ult-modal-open----${ this.modalData.id }\"]`, ( event ) => {\n\t\t\t// Prevent default\n\t\t\tevent.preventDefault();\n\n\t\t\t// Show the modal\n\t\t\tthis.showModal(); \n\t\t});\n\t}\n\n\thandleDismissButton(){\n\t\t// Listen clicks to the dismiss button\n\t\tthis.$elements.dismissBtn.addEventListener( 'click', () => {\n\t\t\t// Hide the modal\n\t\t\tthis.hideModal();\n\t\t});\n\t}\n\n\thandleClickOutsideTheModal(){\n\t\t// Listen clicks to the while modal container\n\t\tthis.$elements.container.addEventListener( 'mouseup', ( event ) => {\n            // Set the targetted container\n            const $container = this.$elements.box;\n\n            if ( ( $container !== event.target ) && ! $container.contains( event.target ) ){\n                // Hide modal\n                this.hideModal();\n            }\n        });\n\t}\n\n\tsetLoading( isLoading = true ){\n\t\t// Check if we have to set the loading class\n\t\tif ( isLoading ){\n\t\t\tthis.$elements.container.classList.add( 'ult-modal-container--loading' );\n\t\t}\n\t\telse {\n\t\t\t// Remove the loading class\n\t\t\tthis.$elements.container.classList.remove( 'ult-modal-container--loading' );\n\t\t}\n\t}\n\n\tsetContent( HTMLcontent = '' ){\n\t\t// Set the content\n\t\tthis.$elements.content.innerHTML = HTMLcontent;\n\t}\n\n\tshowModal(){\n\t\t// Show the modal\n\t\tfade( 'in', this.$elements.container );\n\t\tthis.$elements.container.classList.add( 'ult-modal-container--open' );\n\n\t\t// Add class to the body element, so the user can use it\n\t\t// to change other stuff\n\t\tdocument.body.classList.add( 'ult-modals--open' );\n\n\t\t// Check if we have to dim the background\n\t\tif ( this.modalData.dimBackground ){\n\t\t\t// Add class to dim the background\n\t\t\tdocument.body.classList.add( 'ult-modals--dim-background' );\n\t\t}\n\t}\n\n\thideModal(){\n\t\t// Hide the modal\n\t\tfade( 'out', this.$elements.container, () => {\n\t\t\t// Hide the modal\n\t\t\tthis.$elements.container.classList.remove( 'ult-modal-container--open' );\n\n\t\t\t// Remove class from the body element\n\t\t\tdocument.body.classList.remove( 'ult-modals--open' );\n\n\t\t\t// Remove the class to dim the background\n\t\t\tdocument.body.classList.remove( 'ult-modals--dim-background' );\n\t\t});\n\t}\n}\n\nexport default Modals;","// Core login system modules\nimport {\n    Login,\n    ForgotPassword,\n    ResetPassword,\n    Login2ndFactor,\n    FrontendLogin_Modal\n} from './js/frontend-login';\n\n// Two-factor authentication redirect handler\nimport UltimateLogin2FARedirect from './js/wp-2fa-redirect';\n\n// Global utility modules\nimport reCAPTCHAs from './js/recaptcha';\nimport Modals from './js/dialog';\n\n// Import main stylesheet\nimport './scss/main.scss';\n\n// Do on DOM ready\ndocument.addEventListener('DOMContentLoaded', () => {\n    // reCAPTCHA (global module)\n    new reCAPTCHAs();\n\n    // Modals (global module)\n    new Modals();\n\n    // Frontend Login\n    new Login();\n    new ForgotPassword();\n    new ResetPassword();\n    new Login2ndFactor();\n\n    // Make 2FA redirect handler globally available\n    window.UltimateLogin2FARedirect = UltimateLogin2FARedirect;\n\n    // Exceptions for the login form when\n    // it's used on a modal\n    new FrontendLogin_Modal();\n});\n"],"names":["UltimateLogin2FARedirect","_classCallCheck","key","value","response","data","requires_redirect","redirect_url","window","location","href","module","exports","e","Element","prototype","closest","t","n","this","document","ownerDocument","querySelectorAll","o","length","item","parentElement","g","r","i","c","f","type","forEach","target","selector","documentElement","indexOf","contains","callback","on","split","trim","addEventListener","push","off","removeEventListener","toString","splice","once","get","hasOwnProperty","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call","getter","__esModule","d","a","definition","Object","defineProperty","enumerable","globalThis","Function","obj","prop","isDefined","variable","isEmpty","Array","isArray","isObject","keys","fade","element","arguments","fadeClass","concat","classList","add","setTimeout","remove","triggerEvent","eventId","event","CustomEvent","detail","dispatchEvent","eye","PasswordField","$field","nextSibling","nextElementSibling","cssClasses","passwordVisibilityToggle","setupParentPositioning","addFieldPadding","addEyeIcon","ensureFieldEditable","setupFocusHandlers","parent","parentNode","getComputedStyle","position","style","currentPadding","paddingRight","parseInt","_this","$eyeIcon","createElement","innerHTML","iconEye","insertBefore","getAttribute","setAttribute","_this2","removeAttribute","readOnly","disabled","events","require","FrontendLogin","getElements","shouldInvokeMethods","validateFormSubmission","handleReCaptchaChanges","_createClass","$elements","mainForm","onsubmit","canSubmit","hasReCAPTCHA","isCaptchaChecked","container","reCAPTCHAerror","setError","UncannyToolkit","frontendLogin","i18n","checkReCaptcha","console","error","id","isValid","submitForm","preventDefault","setLoadingStatus","setButtonDisableStatus","handleAJAX","action","onSuccess","onFail","options","_objectSpread","includeNonce","nonce","ajax","fetch","url","method","headers","body","URLSearchParams","then","ok","redirected","success","code","json","Error","generic","AJAXRequest","ajaxAction","formData","afterValidSubmission","message","resetReCAPTCHA","integrity","shouldPreventConcurrentLogin","preventConcurrentLogin","handleResponse","isUsingLearnDashReCaptcha","hasAjaxEnabled","handleLearnDashReCaptcha","hasLearnDashReCaptchField","submit","setAsLoading","ui","showAnimationOnSubmit","loading","submitButton","btnLoading","isLoading","setAsDisabled","buttonDisabledOnSubmit","btnDisabled","button","disable","errorNotice","noticeHasError","textNode","textContent","_this3","reCaptcha","correct","formFields","reCAPTCHA","grecaptcha","getResponse","reset","modals","getReCAPTCHAResponse","_this4","ready","execute","LD_TP","site_key","token","insertAdjacentHTML","hasField","querySelector","Login","_FrontendLogin","_inherits","_super","_createSuper","_this5","password","getElementById","getElementsByClassName","email","redirectTo","rememberMe","formDataDefault","assign","UOToolkitFrontEndLoginFormData","checked","uo_is_login_modal","_response$twoFactor","twoFactor","_meta","enabled","reload","ForgotPassword","_FrontendLogin2","_super2","apply","boxContent","ResetPassword","_FrontendLogin3","_super3","passwordRepeat","FrontendLogin_Modal","handleContainerVisiblity","currentPageIsLoginPage","handleModalInLoginPage","loginShowButton","forgotPasswordShowButton","_this6","showSection","section","Login2ndFactor","$form","listenSubmission","_this7","reCAPTCHAs","whenReady","renderReCaptchas","reCaptchaInit","$reCAPTCHAs","$reCAPTCHA","render","sitekey","Modals","allModals","createModals","$modal","modalID","includes","modal","Modal","$modalContent","getModalData","renderModal","handleModalOpen","handleClickOutsideTheModal","modalData","title","btnDismiss","dimBackground","dismiss","appendChild","box","content","dismissBtn","handleDismissButton","showModal","hideModal","$container","HTMLcontent"],"sourceRoot":""}