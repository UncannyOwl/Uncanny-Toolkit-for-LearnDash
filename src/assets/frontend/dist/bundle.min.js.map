{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/global.js","webpack:///./src/assets/frontend/node_modules/eventslibjs/dist/events.polyfills.min.js","webpack:///./src/assets/frontend/node_modules/whatwg-fetch/fetch.js","webpack:///./src/assets/frontend/node_modules/url-search-params-polyfill/index.js","webpack:///./src/assets/frontend/src/js/_utilities.js","webpack:///./src/assets/frontend/src/js/_icons.js","webpack:///./src/assets/frontend/src/js/password-field.js","webpack:///./src/assets/frontend/src/js/frontend-login.js","webpack:///./src/assets/frontend/src/js/recaptcha.js","webpack:///./src/assets/frontend/src/js/dialog.js","webpack:///./src/assets/frontend/src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","g","this","Function","e","window","Element","closest","document","ownerDocument","querySelectorAll","length","item","parentElement","global","f","type","forEach","target","selector","documentElement","indexOf","contains","callback","on","split","trim","addEventListener","push","off","removeEventListener","toString","splice","once","globalThis","self","support","Blob","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","normalizeName","String","test","TypeError","toLowerCase","normalizeValue","iteratorFor","items","iterator","next","shift","done","undefined","Headers","headers","map","append","Array","isArray","header","getOwnPropertyNames","consumed","body","_noBody","bodyUsed","Promise","reject","fileReaderReady","reader","resolve","onload","result","onerror","error","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","slice","view","Uint8Array","byteLength","set","buffer","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","rejected","Error","arrayBuffer","isConsumed","byteOffset","then","text","match","encoding","exec","readAsText","chars","fromCharCode","join","readArrayBufferAsText","formData","decode","json","JSON","parse","oldValue","has","thisArg","keys","values","entries","methods","Request","input","options","method","upcased","url","credentials","signal","toUpperCase","AbortController","referrer","cache","reParamSearch","replace","Date","getTime","form","bytes","decodeURIComponent","Response","bodyInit","status","RangeError","ok","statusText","clone","response","redirectStatuses","redirect","location","DOMException","err","message","stack","constructor","fetch","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","substr","line","parts","console","warn","responseURL","responseText","setTimeout","ontimeout","onabort","open","href","fixUrl","withCredentials","responseType","names","setRequestHeader","onreadystatechange","readyState","send","polyfill","ampersandTest","nativeURLSearchParams","isSupportObjectConstructor","a","decodesPlusesCorrectly","isSupportSize","encodesAmpersandsCorrectly","URLSearchParamsPolyfill","iterable","appendTo","dict","getAll","query","encode","propValue","useProxy","Proxy","construct","args","USPProto","parseToDict","sort","k","j","makeIterator","reduce","prev","cur","search","str","encodeURIComponent","arr","pairs","index","val","stringify","prop","isDefined","variable","isEmpty","isObject","fade","in_out","arguments","element","fadeClass","concat","classList","add","remove","triggerEvent","eventId","data","event","CustomEvent","detail","dispatchEvent","eye","PasswordField","$field","_classCallCheck","cssClasses","passwordWrapper","addWrapper","contentVisibilityToggle","styleFocusOnWrapper","$passwordWrapper","createElement","insertAdjacentElement","appendChild","_this","insertAdjacentHTML","passwordVisibilityToggle","iconEye","$passwordVisibilityToggle","querySelector","passwordIsVisible","getAttribute","setAttribute","innerHTML","_this2","events","require","FrontendLogin","_createClass","getElements","shouldInvokeMethods","validateFormSubmission","handleReCaptchaChanges","$elements","mainForm","onsubmit","canSubmit","hasReCAPTCHA","isCaptchaChecked","container","reCAPTCHAerror","setError","UncannyToolkit","frontendLogin","i18n","checkReCaptcha","id","isValid","submitForm","preventDefault","setLoadingStatus","setButtonDisableStatus","handleAJAX","action","onSuccess","onFail","_objectSpread","includeNonce","nonce","ajax","redirected","success","code","generic","AJAXRequest","ajaxAction","afterValidSubmission","resetReCAPTCHA","integrity","shouldPreventConcurrentLogin","preventConcurrentLogin","isUsingLearnDashReCaptcha","hasAjaxEnabled","handleLearnDashReCaptcha","hasLearnDashReCaptchField","submit","setAsLoading","ui","showAnimationOnSubmit","loading","submitButton","btnLoading","isLoading","setAsDisabled","buttonDisabledOnSubmit","disabled","btnDisabled","button","disable","removeAttribute","errorNotice","noticeHasError","textNode","textContent","_this3","reCaptcha","correct","formFields","reCAPTCHA","grecaptcha","getResponse","reset","modals","getReCAPTCHAResponse","_this4","ready","execute","LD_TP","site_key","token","hasField","Login","_FrontendLogin","_this5","_callSuper","password","_inherits","getElementById","getElementsByClassName","email","redirectTo","rememberMe","formDataDefault","assign","UOToolkitFrontEndLoginFormData","checked","uo_is_login_modal","reload","ForgotPassword","_FrontendLogin2","boxContent","ResetPassword","_FrontendLogin3","passwordRepeat","FrontendLogin_Modal","handleContainerVisiblity","currentPageIsLoginPage","handleModalInLoginPage","loginShowButton","forgotPasswordShowButton","_this6","showSection","section","Login2ndFactor","$form","listenSubmission","_this7","reCAPTCHAs","whenReady","renderReCaptchas","reCaptchaInit","$reCAPTCHAs","$reCAPTCHA","render","sitekey","Modals","allModals","createModals","$modal","modalID","includes","modal","Modal","$modalContent","getModalData","renderModal","handleModalOpen","handleClickOutsideTheModal","modalData","title","btnDismiss","parseInt","dimBackground","dismiss","box","content","dismissBtn","handleDismissButton","showModal","hideModal","$container","HTMLcontent"],"mappings":"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","file":"bundle.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/*! eventslibjs v1.2.0 | (c) 2019 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/events */\nwindow.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,n=(this.document||this.ownerDocument).querySelectorAll(e),o=this;do{for(t=n.length;0<=--t&&n.item(t)!==o;);}while(t<0&&(o=o.parentElement));return o}),(function(e,t){\"function\"==typeof define&&define.amd?define([],(function(){return t(e)})):\"object\"==typeof exports?module.exports=t(e):e.events=t(e)})(\"undefined\"!=typeof global?global:\"undefined\"!=typeof window?window:this,(function(r){\"use strict\";var i={},c={},f=function(o){c[o.type]&&c[o.type].forEach((function(e){var t,n;(t=o.target,n=e.selector,-1<[\"*\",\"window\",\"document\",\"document.documentElement\",r,document,document.documentElement].indexOf(n)||(\"string\"!=typeof n&&n.contains?n===t||n.contains(t):t.closest(n)))&&e.callback(o)}))};return i.on=function(e,t,n){t&&n&&e.split(\",\").forEach((function(e){e=e.trim(),c[e]||(c[e]=[],r.addEventListener(e,f,!0)),c[e].push({selector:t,callback:n})}))},i.off=function(e,n,o){e.split(\",\").forEach((function(e){if(e=e.trim(),c[e]){if(c[e].length<2||!n)return delete c[e],void r.removeEventListener(e,f,!0);var t=(function(e,t,n){for(var o=0;o<e.length;o++)if(e[o].selector===t&&e[o].callback.toString()===n.toString())return o;return-1})(c[e],n,o);t<0||c[e].splice(t,1)}}))},i.once=function(n,o,r){i.on(n,o,(function e(t){r(t),i.off(n,o,e)}))},i.get=function(){var e={};for(var t in c)c.hasOwnProperty(t)&&(e[t]=c[t]);return e},i}));","/* eslint-disable no-prototype-builtins */\nvar g =\n  (typeof globalThis !== 'undefined' && globalThis) ||\n  (typeof self !== 'undefined' && self) ||\n  // eslint-disable-next-line no-undef\n  (typeof global !== 'undefined' && global) ||\n  {}\n\nvar support = {\n  searchParams: 'URLSearchParams' in g,\n  iterable: 'Symbol' in g && 'iterator' in Symbol,\n  blob:\n    'FileReader' in g &&\n    'Blob' in g &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in g,\n  arrayBuffer: 'ArrayBuffer' in g\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test(name) || name === '') {\n    throw new TypeError('Invalid character in header field name: \"' + name + '\"')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      if (header.length != 2) {\n        throw new TypeError('Headers constructor: expected name/value pair to be length 2, found' + header.length)\n      }\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body._noBody) return\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  var match = /charset=([A-Za-z0-9_-]+)/.exec(blob.type)\n  var encoding = match ? match[1] : 'utf-8'\n  reader.readAsText(blob, encoding)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    /*\n      fetch-mock wraps the Response object in an ES6 Proxy to\n      provide useful test harness features such as flush. However, on\n      ES5 browsers without fetch or Proxy support pollyfills must be used;\n      the proxy-pollyfill is unable to proxy an attribute unless it exists\n      on the object before the Proxy is created. This change ensures\n      Response.bodyUsed exists on the instance, while maintaining the\n      semantic of setting Request.bodyUsed in the constructor before\n      _initBody is called.\n    */\n    // eslint-disable-next-line no-self-assign\n    this.bodyUsed = this.bodyUsed\n    this._bodyInit = body\n    if (!body) {\n      this._noBody = true;\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n  }\n\n  this.arrayBuffer = function() {\n    if (this._bodyArrayBuffer) {\n      var isConsumed = consumed(this)\n      if (isConsumed) {\n        return isConsumed\n      } else if (ArrayBuffer.isView(this._bodyArrayBuffer)) {\n        return Promise.resolve(\n          this._bodyArrayBuffer.buffer.slice(\n            this._bodyArrayBuffer.byteOffset,\n            this._bodyArrayBuffer.byteOffset + this._bodyArrayBuffer.byteLength\n          )\n        )\n      } else {\n        return Promise.resolve(this._bodyArrayBuffer)\n      }\n    } else if (support.blob) {\n      return this.blob().then(readBlobAsArrayBuffer)\n    } else {\n      throw new Error('could not read as ArrayBuffer')\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['CONNECT', 'DELETE', 'GET', 'HEAD', 'OPTIONS', 'PATCH', 'POST', 'PUT', 'TRACE']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  if (!(this instanceof Request)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal || (function () {\n    if ('AbortController' in g) {\n      var ctrl = new AbortController();\n      return ctrl.signal;\n    }\n  }());\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n\n  if (this.method === 'GET' || this.method === 'HEAD') {\n    if (options.cache === 'no-store' || options.cache === 'no-cache') {\n      // Search for a '_' parameter in the query string\n      var reParamSearch = /([?&])_=[^&]*/\n      if (reParamSearch.test(this.url)) {\n        // If it already exists then set the value with the current time\n        this.url = this.url.replace(reParamSearch, '$1_=' + new Date().getTime())\n      } else {\n        // Otherwise add a new '_' parameter to the end with the current time\n        var reQueryString = /\\?/\n        this.url += (reQueryString.test(this.url) ? '&' : '?') + '_=' + new Date().getTime()\n      }\n    }\n  }\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  // Avoiding split via regex to work around a common IE11 bug with the core-js 3.6.0 regex polyfill\n  // https://github.com/github/fetch/issues/748\n  // https://github.com/zloirock/core-js/issues/751\n  preProcessedHeaders\n    .split('\\r')\n    .map(function(header) {\n      return header.indexOf('\\n') === 0 ? header.substr(1, header.length) : header\n    })\n    .forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        try {\n          headers.append(key, value)\n        } catch (error) {\n          console.warn('Response ' + error.message)\n        }\n      }\n    })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!(this instanceof Response)) {\n    throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.')\n  }\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  if (this.status < 200 || this.status > 599) {\n    throw new RangeError(\"Failed to construct 'Response': The status provided (0) is outside the range [200, 599].\")\n  }\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = options.statusText === undefined ? '' : '' + options.statusText\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 200, statusText: ''})\n  response.ok = false\n  response.status = 0\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = g.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      // This check if specifically for when a user fetches a file locally from the file system\n      // Only if the status is out of a normal range\n      if (request.url.indexOf('file://') === 0 && (xhr.status < 200 || xhr.status > 599)) {\n        options.status = 200;\n      } else {\n        options.status = xhr.status;\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      setTimeout(function() {\n        resolve(new Response(body, options))\n      }, 0)\n    }\n\n    xhr.onerror = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request failed'))\n      }, 0)\n    }\n\n    xhr.ontimeout = function() {\n      setTimeout(function() {\n        reject(new TypeError('Network request timed out'))\n      }, 0)\n    }\n\n    xhr.onabort = function() {\n      setTimeout(function() {\n        reject(new DOMException('Aborted', 'AbortError'))\n      }, 0)\n    }\n\n    function fixUrl(url) {\n      try {\n        return url === '' && g.location.href ? g.location.href : url\n      } catch (e) {\n        return url\n      }\n    }\n\n    xhr.open(request.method, fixUrl(request.url), true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr) {\n      if (support.blob) {\n        xhr.responseType = 'blob'\n      } else if (\n        support.arrayBuffer\n      ) {\n        xhr.responseType = 'arraybuffer'\n      }\n    }\n\n    if (init && typeof init.headers === 'object' && !(init.headers instanceof Headers || (g.Headers && init.headers instanceof g.Headers))) {\n      var names = [];\n      Object.getOwnPropertyNames(init.headers).forEach(function(name) {\n        names.push(normalizeName(name))\n        xhr.setRequestHeader(name, normalizeValue(init.headers[name]))\n      })\n      request.headers.forEach(function(value, name) {\n        if (names.indexOf(name) === -1) {\n          xhr.setRequestHeader(name, value)\n        }\n      })\n    } else {\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n    }\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!g.fetch) {\n  g.fetch = fetch\n  g.Headers = Headers\n  g.Request = Request\n  g.Response = Response\n}\n","/**!\n * url-search-params-polyfill\n *\n * @author Jerry Bendy (https://github.com/jerrybendy)\n * @licence MIT\n */\n(function(self) {\n    'use strict';\n\n    var nativeURLSearchParams = (function() {\n            // #41 Fix issue in RN\n            try {\n                if (self.URLSearchParams && (new self.URLSearchParams('foo=bar')).get('foo') === 'bar') {\n                    return self.URLSearchParams;\n                }\n            } catch (e) {}\n            return null;\n        })(),\n        isSupportObjectConstructor = nativeURLSearchParams && (new nativeURLSearchParams({a: 1})).toString() === 'a=1',\n        // There is a bug in safari 10.1 (and earlier) that incorrectly decodes `%2B` as an empty space and not a plus.\n        decodesPlusesCorrectly = nativeURLSearchParams && (new nativeURLSearchParams('s=%2B').get('s') === '+'),\n        isSupportSize = nativeURLSearchParams && 'size' in nativeURLSearchParams.prototype,\n        __URLSearchParams__ = \"__URLSearchParams__\",\n        // Fix bug in Edge which cannot encode ' &' correctly\n        encodesAmpersandsCorrectly = nativeURLSearchParams ? (function() {\n            var ampersandTest = new nativeURLSearchParams();\n            ampersandTest.append('s', ' &');\n            return ampersandTest.toString() === 's=+%26';\n        })() : true,\n        prototype = URLSearchParamsPolyfill.prototype,\n        iterable = !!(self.Symbol && self.Symbol.iterator);\n\n    if (nativeURLSearchParams && isSupportObjectConstructor && decodesPlusesCorrectly && encodesAmpersandsCorrectly && isSupportSize) {\n        return;\n    }\n\n\n    /**\n     * Make a URLSearchParams instance\n     *\n     * @param {object|string|URLSearchParams} search\n     * @constructor\n     */\n    function URLSearchParamsPolyfill(search) {\n        search = search || \"\";\n\n        // support construct object with another URLSearchParams instance\n        if (search instanceof URLSearchParams || search instanceof URLSearchParamsPolyfill) {\n            search = search.toString();\n        }\n        this [__URLSearchParams__] = parseToDict(search);\n    }\n\n\n    /**\n     * Appends a specified key/value pair as a new search parameter.\n     *\n     * @param {string} name\n     * @param {string} value\n     */\n    prototype.append = function(name, value) {\n        appendTo(this [__URLSearchParams__], name, value);\n    };\n\n    /**\n     * Deletes the given search parameter, and its associated value,\n     * from the list of all search parameters.\n     *\n     * @param {string} name\n     */\n    prototype['delete'] = function(name) {\n        delete this [__URLSearchParams__] [name];\n    };\n\n    /**\n     * Returns the first value associated to the given search parameter.\n     *\n     * @param {string} name\n     * @returns {string|null}\n     */\n    prototype.get = function(name) {\n        var dict = this [__URLSearchParams__];\n        return this.has(name) ? dict[name][0] : null;\n    };\n\n    /**\n     * Returns all the values association with a given search parameter.\n     *\n     * @param {string} name\n     * @returns {Array}\n     */\n    prototype.getAll = function(name) {\n        var dict = this [__URLSearchParams__];\n        return this.has(name) ? dict [name].slice(0) : [];\n    };\n\n    /**\n     * Returns a Boolean indicating if such a search parameter exists.\n     *\n     * @param {string} name\n     * @returns {boolean}\n     */\n    prototype.has = function(name) {\n        return hasOwnProperty(this [__URLSearchParams__], name);\n    };\n\n    /**\n     * Sets the value associated to a given search parameter to\n     * the given value. If there were several values, delete the\n     * others.\n     *\n     * @param {string} name\n     * @param {string} value\n     */\n    prototype.set = function set(name, value) {\n        this [__URLSearchParams__][name] = ['' + value];\n    };\n\n    /**\n     * Returns a string containg a query string suitable for use in a URL.\n     *\n     * @returns {string}\n     */\n    prototype.toString = function() {\n        var dict = this[__URLSearchParams__], query = [], i, key, name, value;\n        for (key in dict) {\n            name = encode(key);\n            for (i = 0, value = dict[key]; i < value.length; i++) {\n                query.push(name + '=' + encode(value[i]));\n            }\n        }\n        return query.join('&');\n    };\n\n    // There is a bug in Safari 10.1 and `Proxy`ing it is not enough.\n    var useProxy = self.Proxy && nativeURLSearchParams && (!decodesPlusesCorrectly || !encodesAmpersandsCorrectly || !isSupportObjectConstructor || !isSupportSize);\n    var propValue;\n    if (useProxy) {\n        // Safari 10.0 doesn't support Proxy, so it won't extend URLSearchParams on safari 10.0\n        propValue = new Proxy(nativeURLSearchParams, {\n            construct: function (target, args) {\n                return new target((new URLSearchParamsPolyfill(args[0]).toString()));\n            }\n        })\n        // Chrome <=60 .toString() on a function proxy got error \"Function.prototype.toString is not generic\"\n        propValue.toString = Function.prototype.toString.bind(URLSearchParamsPolyfill);\n    } else {\n        propValue = URLSearchParamsPolyfill;\n    }\n\n    /*\n     * Apply polyfill to global object and append other prototype into it\n     */\n    Object.defineProperty(self, 'URLSearchParams', {\n        value: propValue\n    });\n\n    var USPProto = self.URLSearchParams.prototype;\n\n    USPProto.polyfill = true;\n\n    // Fix #54, `toString.call(new URLSearchParams)` will return correct value when Proxy not used\n    if (!useProxy && self.Symbol) {\n        USPProto[self.Symbol.toStringTag] = 'URLSearchParams';\n    }\n\n    /**\n     *\n     * @param {function} callback\n     * @param {object} thisArg\n     */\n    if (!('forEach' in USPProto)) {\n        USPProto.forEach = function(callback, thisArg) {\n            var dict = parseToDict(this.toString());\n            Object.getOwnPropertyNames(dict).forEach(function(name) {\n                dict[name].forEach(function(value) {\n                    callback.call(thisArg, value, name, this);\n                }, this);\n            }, this);\n        };\n    }\n\n    /**\n     * Sort all name-value pairs\n     */\n    if (!('sort' in USPProto)) {\n        USPProto.sort = function() {\n            var dict = parseToDict(this.toString()), keys = [], k, i, j;\n            for (k in dict) {\n                keys.push(k);\n            }\n            keys.sort();\n\n            for (i = 0; i < keys.length; i++) {\n                this['delete'](keys[i]);\n            }\n            for (i = 0; i < keys.length; i++) {\n                var key = keys[i], values = dict[key];\n                for (j = 0; j < values.length; j++) {\n                    this.append(key, values[j]);\n                }\n            }\n        };\n    }\n\n    /**\n     * Returns an iterator allowing to go through all keys of\n     * the key/value pairs contained in this object.\n     *\n     * @returns {function}\n     */\n    if (!('keys' in USPProto)) {\n        USPProto.keys = function() {\n            var items = [];\n            this.forEach(function(item, name) {\n                items.push(name);\n            });\n            return makeIterator(items);\n        };\n    }\n\n    /**\n     * Returns an iterator allowing to go through all values of\n     * the key/value pairs contained in this object.\n     *\n     * @returns {function}\n     */\n    if (!('values' in USPProto)) {\n        USPProto.values = function() {\n            var items = [];\n            this.forEach(function(item) {\n                items.push(item);\n            });\n            return makeIterator(items);\n        };\n    }\n\n    /**\n     * Returns an iterator allowing to go through all key/value\n     * pairs contained in this object.\n     *\n     * @returns {function}\n     */\n    if (!('entries' in USPProto)) {\n        USPProto.entries = function() {\n            var items = [];\n            this.forEach(function(item, name) {\n                items.push([name, item]);\n            });\n            return makeIterator(items);\n        };\n    }\n\n    if (iterable) {\n        USPProto[self.Symbol.iterator] = USPProto[self.Symbol.iterator] || USPProto.entries;\n    }\n\n    if (!('size' in USPProto)) {\n        Object.defineProperty(USPProto, 'size', {\n            get: function () {\n                var dict = parseToDict(this.toString())\n                if (USPProto === this) {\n                    throw new TypeError('Illegal invocation at URLSearchParams.invokeGetter')\n                }\n                return Object.keys(dict).reduce(function (prev, cur) {\n                    return prev + dict[cur].length;\n                }, 0);\n            }\n        });\n    }\n\n    function encode(str) {\n        var replace = {\n            '!': '%21',\n            \"'\": '%27',\n            '(': '%28',\n            ')': '%29',\n            '~': '%7E',\n            '%20': '+',\n            '%00': '\\x00'\n        };\n        return encodeURIComponent(str).replace(/[!'\\(\\)~]|%20|%00/g, function(match) {\n            return replace[match];\n        });\n    }\n\n    function decode(str) {\n        return str\n            .replace(/[ +]/g, '%20')\n            .replace(/(%[a-f0-9]{2})+/ig, function(match) {\n                return decodeURIComponent(match);\n            });\n    }\n\n    function makeIterator(arr) {\n        var iterator = {\n            next: function() {\n                var value = arr.shift();\n                return {done: value === undefined, value: value};\n            }\n        };\n\n        if (iterable) {\n            iterator[self.Symbol.iterator] = function() {\n                return iterator;\n            };\n        }\n\n        return iterator;\n    }\n\n    function parseToDict(search) {\n        var dict = {};\n\n        if (typeof search === \"object\") {\n            // if `search` is an array, treat it as a sequence\n            if (isArray(search)) {\n                for (var i = 0; i < search.length; i++) {\n                    var item = search[i];\n                    if (isArray(item) && item.length === 2) {\n                        appendTo(dict, item[0], item[1]);\n                    } else {\n                        throw new TypeError(\"Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements\");\n                    }\n                }\n\n            } else {\n                for (var key in search) {\n                    if (search.hasOwnProperty(key)) {\n                        appendTo(dict, key, search[key]);\n                    }\n                }\n            }\n\n        } else {\n            // remove first '?'\n            if (search.indexOf(\"?\") === 0) {\n                search = search.slice(1);\n            }\n\n            var pairs = search.split(\"&\");\n            for (var j = 0; j < pairs.length; j++) {\n                var value = pairs [j],\n                    index = value.indexOf('=');\n\n                if (-1 < index) {\n                    appendTo(dict, decode(value.slice(0, index)), decode(value.slice(index + 1)));\n\n                } else {\n                    if (value) {\n                        appendTo(dict, decode(value), '');\n                    }\n                }\n            }\n        }\n\n        return dict;\n    }\n\n    function appendTo(dict, name, value) {\n        var val = typeof value === 'string' ? value : (\n            value !== null && value !== undefined && typeof value.toString === 'function' ? value.toString() : JSON.stringify(value)\n        );\n\n        // #47 Prevent using `hasOwnProperty` as a property name\n        if (hasOwnProperty(dict, name)) {\n            dict[name].push(val);\n        } else {\n            dict[name] = [val];\n        }\n    }\n\n    function isArray(val) {\n        return !!val && '[object Array]' === Object.prototype.toString.call(val);\n    }\n\n    function hasOwnProperty(obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop);\n    }\n\n})(typeof global !== 'undefined' ? global : (typeof window !== 'undefined' ? window : this));\n","/**\n * Determine if a variable is set and is not NULL\n *\n * @since 3.3\n *\n * @param  {mixed}      variable - The variable being evaluated\n * @return {boolean}    TRUE if the variable is defined\n */\nexport const isDefined = ( variable ) => {\n\t// Returns true if the variable is undefined\n    return typeof variable !== 'undefined' && variable !== null;\n}\n\n/**\n * Determine whether a variable is empty\n *\n * @since 3.3\n *\n * @param   {mixed}     variable - The variable being evaluated\n * @return  {boolean}   TRUE if the variable is empty\n */\nexport const isEmpty = ( variable ) => {\n    let response = true;\n\n    // Check if the variable is defined, otherwise is empty\n    if ( isDefined( variable ) ){\n        // Check if it's array\n        if ( Array.isArray( variable ) ){\n            response = variable.length == 0;\n        }\n        else if ( isObject( variable ) ){\n            response = Object.keys( variable ).length == 0;\n        }\n        else {\n            response = variable == '';\n        }\n    }\n\n    return response;\n}\n\n/**\n * Determine whether a variable is an object.\n * The Object constructor creates an object wrapper for the given value. If the value is null or undefined, it will create and return an empty object, otherwise, it will return an object of a type that corresponds to the given value. If the value is an object already, it will return the value.\n *\n * @since 3.3\n *\n * @param   {mixed}     variable - The variable being evaluated\n * @return  {boolean}   TRUE if the variable is an object\n */\nexport const isObject = ( variable ) => {\n    return variable === Object( variable );\n}\n\n/**\n * Simulate a fade in/fade out transition\n *\n * @since 3.3\n * \n * @param  {String} fade        Whether we have to fade in our fade out the element\n * @param  {Element}   element  Element\n */\nexport const fade = ( in_out = 'in', element, callback ) => {\n    // Check what's the class we have to add\n    const fadeClass = `ult--fade-${ in_out }`;\n\n    // Define the default callback\n    callback = isDefined( callback ) ? callback : () => {};\n\n    // Add the fade class\n    element.classList.add( fadeClass );\n\n    // Remove it after 300ms (the fade duration)\n    setTimeout(() => {\n        // Remove the fade class\n        element.classList.remove( fadeClass );\n\n        // Invoke the callback\n        callback();\n    }, 280 );\n}\n\n/**\n * Performs an AJAX request\n *\n * @since 3.3\n *\n * @param {object}    data - Data to be sent in the request\n * @param {callback}  [onSuccess] - Function to be invoked if the request is successful\n * @param {callback}  [onFail] - Function to be invoked if the request fails\n */\n\nexport function AJAXRequest( action = null, data = null, onSuccess = null, onFail = null, options = {} ){\n    // Add {action} to the data object\n    data = { ...data, ...{\n        action: action\n    }};\n\n    // Check if we should include the nonce\n    if ( ! isDefined( options.includeNonce ) || options.includeNonce ){\n        data.nonce = UncannyToolkit.ajax.nonce;\n    }\n\n    // Do the call\n    fetch( UncannyToolkit.ajax.url, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/x-www-form-urlencoded',\n            'Cache-Control': 'no-cache',\n        },\n        body: new URLSearchParams( data ),\n    })\n    .then(( response ) => {\n        // Check if the call was not successful\n        if ( ! response.ok ){\n            if ( isDefined( onFail ) ){\n                onFail({ ...response, ...{ success: false }});\n            }\n\n            // Stop chain\n            throw Error( UncannyToolkit.i18n.error.generic );\n        }\n        else {\n            // Detect redirection\n            if ( response.redirected ) {\n                // Return the error for the next .then to handle it\n                return {\n                    success: false,\n                    code: 302\n                }\n            } else {\n                return response.json();\n            }\n        }\n    })\n    .then(( response ) => {\n        // Check if the call was successful\n        if ( response.success ){\n            if ( isDefined( onSuccess ) ){\n                onSuccess( response );\n            }\n        }\n        else {\n            if ( isDefined( onFail ) ){\n                onFail({ ...response, ...{ success: false }});\n            }\n        }\n    })\n    .catch(( response ) => {\n        console.error( 'Uncanny Toolkit: The fetch call threw an error' );\n\n        if ( isDefined( onFail ) ){\n            onFail({ ...response, ...{ success: false }});\n        }\n    });;\n}\n\n/**\n * Trigger a custom event\n * @param  {String} eventId ID of the event\n * @param  {Object} data    Data\n */\nexport function triggerEvent( eventId = '', data = {} ){\n    try {\n        const event = new CustomEvent( eventId, { detail: data } );\n        document.dispatchEvent( event );\n    }\n    catch ( e ){}\n}","const eye = `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentcolor\" viewBox=\"0 0 576 512\"><path d=\"M279.6 160.4C282.4 160.1 285.2 160 288 160C341 160 384 202.1 384 256C384 309 341 352 288 352C234.1 352 192 309 192 256C192 253.2 192.1 250.4 192.4 247.6C201.7 252.1 212.5 256 224 256C259.3 256 288 227.3 288 192C288 180.5 284.1 169.7 279.6 160.4zM480.6 112.6C527.4 156 558.7 207.1 573.5 243.7C576.8 251.6 576.8 260.4 573.5 268.3C558.7 304 527.4 355.1 480.6 399.4C433.5 443.2 368.8 480 288 480C207.2 480 142.5 443.2 95.42 399.4C48.62 355.1 17.34 304 2.461 268.3C-.8205 260.4-.8205 251.6 2.461 243.7C17.34 207.1 48.62 156 95.42 112.6C142.5 68.84 207.2 32 288 32C368.8 32 433.5 68.84 480.6 112.6V112.6zM288 112C208.5 112 144 176.5 144 256C144 335.5 208.5 400 288 400C367.5 400 432 335.5 432 256C432 176.5 367.5 112 288 112z\"/></svg>`;\n\nconst eyeSlash = `<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentcolor\" viewBox=\"0 0 640 512\"><path d=\"M150.7 92.77C195 58.27 251.8 32 320 32C400.8 32 465.5 68.84 512.6 112.6C559.4 156 590.7 207.1 605.5 243.7C608.8 251.6 608.8 260.4 605.5 268.3C592.1 300.6 565.2 346.1 525.6 386.7L630.8 469.1C641.2 477.3 643.1 492.4 634.9 502.8C626.7 513.2 611.6 515.1 601.2 506.9L9.196 42.89C-1.236 34.71-3.065 19.63 5.112 9.196C13.29-1.236 28.37-3.065 38.81 5.112L150.7 92.77zM223.1 149.5L313.4 220.3C317.6 211.8 320 202.2 320 191.1C320 180.5 316.1 169.7 311.6 160.4C314.4 160.1 317.2 159.1 320 159.1C373 159.1 416 202.1 416 255.1C416 269.7 413.1 282.7 407.1 294.5L446.6 324.7C457.7 304.3 464 280.9 464 255.1C464 176.5 399.5 111.1 320 111.1C282.7 111.1 248.6 126.2 223.1 149.5zM320 480C239.2 480 174.5 443.2 127.4 399.4C80.62 355.1 49.34 304 34.46 268.3C31.18 260.4 31.18 251.6 34.46 243.7C44 220.8 60.29 191.2 83.09 161.5L177.4 235.8C176.5 242.4 176 249.1 176 255.1C176 335.5 240.5 400 320 400C338.7 400 356.6 396.4 373 389.9L446.2 447.5C409.9 467.1 367.8 480 320 480H320z\"/></svg>`;\n\nexport { eye as iconEye }\nexport { eyeSlash as iconEyeSlash }","import {\n\ticonEye,\n\ticonEyeSlash\n} from './_icons';\n\n/**\n * Adds a wrapper around the field and adds the eye icon to toggle the visibility of the content\n */\nexport default class PasswordField {\n    /**\n     * Adds a wrapper around the field and adds the eye icon to toggle the visibility of the content\n     * @param {Node} $field The Node of the password\n     */\n    constructor( $field ) {\n        // Check if the field exists\n        if ( ! $field ) {\n            return;\n        }\n\n        // Check if this isn't already inside a wrapper\n        if ( $field.closest( `.${ this.cssClasses.passwordWrapper }` ) ) {\n            return;\n        }\n\n        // Save Node\n        this.$field = $field;\n\n        // Add wrapper\n        this.addWrapper();\n\n        // Add content visibility toggle\n        this.contentVisibilityToggle();\n\n        // Style focus on wrapper\n        this.styleFocusOnWrapper();\n    }\n\n    /**\n     * Add wrapper around password field\n     */\n    addWrapper() {\n        // Create wrapper\n\t\tthis.$passwordWrapper = document.createElement( 'label' );\n\t\tthis.$passwordWrapper.classList.add( this.cssClasses.passwordWrapper );\n\n\t\t// Add the wrapper next to the password field\n\t\tthis.$field.insertAdjacentElement( 'afterEnd', this.$passwordWrapper );\n\n\t\t// Move the Password field inside the wrapper\n\t\tthis.$passwordWrapper.appendChild( this.$field );\n    }\n\n    /**\n     * Adds an eye icon that sets the visibility of the content\n     */\n    contentVisibilityToggle() {\n        // Add eye to set the visibility of the password\n\t\tthis.$passwordWrapper.insertAdjacentHTML( 'beforeEnd', `\n            <div class=\"${ this.cssClasses.passwordVisibilityToggle }\">\n                ${ iconEye }\n            </div>\n        ` );\n\n        // Get the eye icon wrapper\n        const $passwordVisibilityToggle = this.$passwordWrapper.querySelector( `.${ this.cssClasses.passwordVisibilityToggle }` );\n\n        // Add event to the visibility toggle\n        $passwordVisibilityToggle.addEventListener( 'click', () => {\n            // Get the current status of the field\n            const passwordIsVisible = this.$field.getAttribute( 'type' ) == 'text';\n\n            // If it's visible, and the user clicked it, it means we should hide it\n            if ( passwordIsVisible ) {\n                // Hide the password\n                this.$field.setAttribute( 'type', 'password' );\n\n                // Replace eye icon. Show icon without the slash\n                $passwordVisibilityToggle.innerHTML = iconEye;\n            }\n\n            // If it's hidden, and the user clicked it, it means we should show it\n            if ( ! passwordIsVisible ) {\n                // Show the password\n                this.$field.setAttribute( 'type', 'text' );\n\n                // Replace eye icon. Add icon with the slash\n                $passwordVisibilityToggle.innerHTML = iconEyeSlash;\n            }\n        } );\n    }\n\n    /**\n     * Listens to the focus state of the field, and adds a class to the wrapper to style it as if it were a field\n     */\n    styleFocusOnWrapper() {\n        // Listen focus on field\n        this.$field.addEventListener( 'focus', () => {\n            // Add focus class\n            this.$passwordWrapper.classList.add( `${ this.cssClasses.passwordWrapper }--focus` );\n        } );\n\n        // Remove focus class\n        this.$field.addEventListener( 'blur', () => {\n            this.$passwordWrapper.classList.remove( `${ this.cssClasses.passwordWrapper }--focus` );\n        } );\n    }\n\n    /**\n     * Object with the CSS classes used by the wrapper\n     */\n    get cssClasses() {\n        return {\n            passwordWrapper: 'ult-form-password-wrapper',\n\t\t\tpasswordVisibilityToggle: 'ult-form-password-wrapper-eye-toggle'\n        }\n    }\n}","const events = require( 'eventslibjs' );\n\nimport {\n\tAJAXRequest,\n\tisEmpty,\n\tisDefined,\n\ttriggerEvent\n} from './_utilities';\n\nimport PasswordField from './password-field';\n\nclass FrontendLogin {\n\tconstructor(){\n\t\t// Get elements\n\t\tthis.getElements();\n\n\t\t// Check if we have to invoke the methods\n\t\tif ( this.shouldInvokeMethods() ){\n\t\t\t// Bind form submission\n\t\t\tthis.validateFormSubmission();\n\n\t\t\t// Handle reCAPTCHA changes\n\t\t\tthis.handleReCaptchaChanges();\n\t\t}\n\t}\n\n\tgetElements(){\n\t\t// Get the main elements\n\t\tthis.$elements = {}\n\n\t\t// Define the main CSS classes\n\t\tthis.cssClasses = {}\n\t}\n\n\tget formData(){\n\t\treturn {}\n\t}\n\n\tget ajaxAction(){\n\t\treturn '';\n\t}\n\n\tvalidateFormSubmission(){\n\t\t// Check if the form exists\n\t\tif ( isDefined( this.$elements.mainForm ) ){\n\t\t\t// Bind submission\n\t\t\tthis.$elements.mainForm.onsubmit = ( event ) => {\n\t\t\t\t// Create a variable to evaluate if the form has errors later\n\t\t\t\tlet canSubmit = true;\n\n\t\t\t\t// Check if the recaptcha is enabled, but the checkbox is not checked\n\t\t\t\tif ( this.hasReCAPTCHA() && ! this.isCaptchaChecked() ){\n\t\t\t\t\t// Add a CSS class for the reCAPTCHA error\n\t\t\t\t\tthis.$elements.container.classList.add( this.cssClasses.reCAPTCHAerror );\n\n\t\t\t\t\t// Update the error status\n\t\t\t\t\tcanSubmit = false;\n\n\t\t\t\t\t// Set frontend error\n\t\t\t\t\tthis.setError( UncannyToolkit.frontendLogin.i18n.checkReCaptcha );\n\n\t\t\t\t\tconsole.error( 'Frontend Login: The form is using reCAPTCHA, but you didn\\'t pass the verification' );\n\t\t\t\t}\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent( `uncanny-toolkit/frontend-login/${ this.id }/validated`, {\n\t\t\t\t\tisValid: canSubmit\n\t\t\t\t});\n\n\t\t\t\t// Check if we can submit the form\n\t\t\t\tif ( canSubmit ){\n\t\t\t\t\t// Submit the form\n\t\t\t\t\tthis.submitForm( event );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Prevent the form submission\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\tconsole.error( 'Frontend Login: Submission prevented' );\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n\n\tsubmitForm( event ){\n\t\t// Hide errors\n\t\tthis.setError( false );\n\n\t\t// Add the loading animation\n\t\tthis.setLoadingStatus( true );\n\n\t\t// Disable the submit button\n\t\tthis.setButtonDisableStatus( true );\n\n\t\t/**\n\t\t * Handles the AJAX submission\n\t\t * \n\t\t * @return {undefined}\n\t\t */\n\t\tconst handleAJAX = () => {\n\t\t\t// Trigger custom event\n\t\t\ttriggerEvent( `uncanny-toolkit/frontend-login/${ this.id }/submitting` );\n\n\t\t\t// Do AJAX call\n\t\t\tAJAXRequest( this.ajaxAction, this.formData, ( response ) => {\n\t\t\t\t// Remove the loading animation\n\t\t\t\tthis.setLoadingStatus( false );\n\n\t\t\t\t// Enable the submit button\n\t\t\t\tthis.setButtonDisableStatus( false );\n\n\t\t\t\t// Check if the call was really successful\n\t\t\t\tif ( response.success ){\n\t\t\t\t\t// Trigger custom event\n\t\t\t\t\ttriggerEvent( `uncanny-toolkit/frontend-login/${ this.id }/submitted`, {\n\t\t\t\t\t\tsuccess: true\n\t\t\t\t\t});\n\n\t\t\t\t\tthis.afterValidSubmission( response );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Trigger custom event\n\t\t\t\t\ttriggerEvent( `uncanny-toolkit/frontend-login/${ this.id }/submitted`, {\n\t\t\t\t\t\tsuccess: false,\n\t\t\t\t\t\tmessage: isDefined( response.message ) ? response.message : UncannyToolkit.i18n.error.generic\n\t\t\t\t\t});\n\n\t\t\t\t\t// Check if there is a message\n\t\t\t\t\tif ( isDefined( response.message ) ){\n\t\t\t\t\t\t// Show the error\n\t\t\t\t\t\tthis.setError( response.message );\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Set a generic error message\n\t\t\t\t\t\tthis.setError( UncannyToolkit.i18n.error.generic );\n\t\t\t\t\t}\n\n\t\t\t\t\t// Reset reCAPTCHA\n\t\t\t\t\tthis.resetReCAPTCHA();\n\t\t\t\t}\n\t\t\t}, ( response ) => {\n\t\t\t\t// Check if we have the error code and the code is 302\n\t\t\t\tif ( isDefined( response.code ) && response.code == 302 ) {\n\t\t\t\t\t// Check if \"Prevent Concurrent Login\" is active\n\t\t\t\t\tif ( UncannyToolkit.integrity.shouldPreventConcurrentLogin ) {\n\t\t\t\t\t\t// Set custom LD message\n\t\t\t\t\t\tresponse.message = UncannyToolkit.i18n.preventConcurrentLogin;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent( `uncanny-toolkit/frontend-login/${ this.id }/submitted`, {\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\tmessage: isDefined( response.message ) ? response.message : UncannyToolkit.i18n.error.generic\n\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t// Check if there is a message\n\t\t\t\tif ( isDefined( response.message ) ){\n\t\t\t\t\t// Show the error\n\t\t\t\t\tthis.setError( response.message );\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\t// Set a generic error message\n\t\t\t\t\tthis.setError( UncannyToolkit.i18n.error.generic );\n\t\t\t\t}\n\n\t\t\t\t// Reset reCAPTCHA\n\t\t\t\tthis.resetReCAPTCHA();\n\n\t\t\t\t// Remove the loading animation\n\t\t\t\tthis.setLoadingStatus( false );\n\n\t\t\t\t// Enable the submit button\n\t\t\t\tthis.setButtonDisableStatus( false );\n\t\t\t}, {\n\t\t\t\tincludeNonce: false\n\t\t\t});\n\t\t}\n\n\t\t// If it's not using the LD reCAPTCHA\n\t\tif ( ! this.isUsingLearnDashReCaptcha() ) {\n\t\t\t// Check if it's using AJAX\n\t\t\tif ( UncannyToolkit.frontendLogin.hasAjaxEnabled ){\n\t\t\t\t// Prevent the form submission\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// Handle AJAX\n\t\t\t\thandleAJAX();\n\t\t\t} else {\n\t\t\t\t// Do nothing, don't prevent the event\n\t\t\t}\n\t\t} else {\n\t\t\t// If it's using LD's reCAPTCHA:\n\n\t\t\t// Check if it's using AJAX\n\t\t\tif ( UncannyToolkit.frontendLogin.hasAjaxEnabled ) {\n\t\t\t\t// Prevent the form submission\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// Handle reCAPTCHA\n\t\t\t\t// The callback will be invoked once the reCAPTCHA is validated\n\t\t\t\tthis.handleLearnDashReCaptcha( () => {\n\t\t\t\t\t// Handle AJAX\n\t\t\t\t\thandleAJAX();\n\t\t\t\t} );\n\t\t\t} else {\n\t\t\t\t// Check if it has the required data already\n\t\t\t\t// We're doing this because for non-AJAX forms this is a recursive function\n\t\t\t\t// Once validated, it will invoke itself. We have to prevent an infinito loop,\n\t\t\t\t// so after the data is validated, we add a hidden field to the form.\n\t\t\t\t// If the field exists, it means this function was already executed, and that we\n\t\t\t\t// don't have to prevent the submission again. (Only for non-AJAX forms)\n\t\t\t\tif ( ! this.hasLearnDashReCaptchField() ) {\n\t\t\t\t\t// Prevent the form submission even if it's not using AJAX\n\t\t\t\t\tevent.preventDefault();\n\n\t\t\t\t\t// Handle reCAPTCHA\n\t\t\t\t\t// The callback will be invoked once the reCAPTCHA is validated\n\t\t\t\t\tthis.handleLearnDashReCaptcha( () => {\n\t\t\t\t\t\t// Submit the form again\n\t\t\t\t\t\tthis.$elements.mainForm.submit();\n\t\t\t\t\t} );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tafterValidSubmission( response ){}\n\n\tsetLoadingStatus( setAsLoading = true ){\n\t\t// Check if we have to add a loading animation to the submit button\n\t\tif ( UncannyToolkit.frontendLogin.ui.showAnimationOnSubmit ){\n\t\t\t// Check if we have to enable the loading status\n\t\t\tif ( setAsLoading ){\n\t\t\t\t// Add the loading animation\n\t\t\t\tthis.$elements.container.classList.add( this.cssClasses.loading );\n\t\t\t\tthis.$elements.submitButton.container.classList.add( this.cssClasses.btnLoading );\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent( `uncanny-toolkit/frontend-login/${ this.id }/set-loading`, {\n\t\t\t\t\tisLoading: true\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Remove the loading status\n\t\t\t\tthis.$elements.container.classList.remove( this.cssClasses.loading );\n\t\t\t\tthis.$elements.submitButton.container.classList.remove( this.cssClasses.btnLoading );\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent( `uncanny-toolkit/frontend-login/${ this.id }/set-loading`, {\n\t\t\t\t\tisLoading: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tsetButtonDisableStatus( setAsDisabled = true ){\n\t\t// Check if we have to disable the submit button\n\t\tif ( UncannyToolkit.frontendLogin.ui.buttonDisabledOnSubmit ){\n\t\t\t// Check if we have to set it as disabled\n\t\t\tif ( setAsDisabled ){\n\t\t\t\t// Disable the submit button\n\t\t\t\tthis.$elements.container.classList.add( this.cssClasses.disabled );\n\t\t\t\tthis.$elements.submitButton.container.classList.add( this.cssClasses.btnDisabled );\n\t\t\t\tthis.$elements.submitButton.button.setAttribute( 'disabled', true );\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent( `uncanny-toolkit/frontend-login/${ this.id }/disable-button`, {\n\t\t\t\t\tdisable: true\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Disable the submit button\n\t\t\t\tthis.$elements.container.classList.remove( this.cssClasses.disabled );\n\t\t\t\tthis.$elements.submitButton.container.classList.remove( this.cssClasses.btnDisabled );\n\t\t\t\tthis.$elements.submitButton.button.removeAttribute( 'disabled' );\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent( `uncanny-toolkit/frontend-login/${ this.id }/disable-button`, {\n\t\t\t\t\tdisable: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tsetError( error = false ){\n\t\t// Check if the error is defined\n\t\tif ( ! isEmpty( error ) ){\n\t\t\t// Set the class to show the notice\n\t\t\tthis.$elements.errorNotice.container.classList.add( this.cssClasses.noticeHasError );\n\n\t\t\t// Set the error message\n\t\t\tthis.$elements.errorNotice.textNode.innerHTML = error;\n\t\t}\n\t\telse {\n\t\t\t// Set the class to hide the notice\n\t\t\tthis.$elements.errorNotice.container.classList.remove( this.cssClasses.noticeHasError );\n\n\t\t\t// Set the error message\n\t\t\tthis.$elements.errorNotice.textNode.textContent = '';\n\n\t\t\t// Remove a CSS class for the reCAPTCHA error\n\t\t\tthis.$elements.container.classList.remove( this.cssClasses.reCAPTCHAerror );\n\t\t}\n\t}\n\n\thandleReCaptchaChanges(){\n\t\t// Add global method to handle what happened when\n\t\t// the reCAPTCHA is checked\n\t\tUncannyToolkit.frontendLogin.reCaptcha = {\n\t\t\tcorrect: ( response ) => {\n\t\t\t\t// Reset errors\n\t\t\t\tthis.setError( false );\n\t\t\t}\n\t\t}\n\t}\n\n\thasReCAPTCHA(){\n\t\treturn isDefined( this.$elements.formFields.reCAPTCHA );\n\t}\n\n\tgetReCAPTCHAResponse(){\n\t\t// Get the reCAPTCHA ID\n\t\tconst id = this.$elements.formFields.reCAPTCHA.getAttribute( 'data-id' );\n\n\t\t// Get the response\n\t\treturn grecaptcha.getResponse( id );\n\t}\n\n\tresetReCAPTCHA(){\n\t\ttry {\n\t\t\t// Get the reCAPTCHA ID\n\t\t\tconst id = this.$elements.formFields.reCAPTCHA.getAttribute( 'data-id' );\n\n\t\t\t// Reset the reCAPTCHA\n\t\t\tgrecaptcha.reset( id );\n\t\t} catch ( e ){}\n\t}\n\n\tisOnModal(){\n\t\treturn isDefined( UncannyToolkit.modals[ 'ult-login' ] );\n\t}\n\n    isCaptchaChecked(){\n        return ! isEmpty( this.getReCAPTCHAResponse() );\n    }\n\n    shouldInvokeMethods(){\n    \treturn isDefined( this.$elements.container );\n    }\n\n    handleLearnDashReCaptcha( callback ) {\n    \t// Check if it's using LD's reCAPTCHA\n    \tif ( this.isUsingLearnDashReCaptcha() ) {\n    \t\t// Invoke the challenge\n    \t\tgrecaptcha.ready( () => {\n\t\t\t    grecaptcha.execute(\n\t\t\t    \tLD_TP.site_key, \n\t\t\t    \t{ action: 'submit' }\n\t\t\t    ).then( ( token ) => {\n\t\t\t    \t// Add hidden field to the form\n\t\t\t    \tif ( isDefined( this.$elements.mainForm ) ) {\n\t\t\t    \t\t// Add hidden field with token\n\t\t\t    \t\tthis.$elements.mainForm.insertAdjacentHTML( 'afterbegin', `<input type=\"hidden\" id=\"ult-form-ld-recaptcha\" name=\"token\" value=\"${ token }\">` );\n\t\t\t    \t}\n\n\t\t\t    \t// Invoke callback\n\t\t\t    \tif ( isDefined( callback ) ) {\n\t\t\t    \t\tcallback();\n\t\t\t    \t}\n\t\t\t    });\n\t\t\t});\n    \t} else {\n    \t\t// Just invoke the callback\n\t    \tif ( isDefined( callback ) ) {\n\t    \t\tcallback();\n\t    \t}\n    \t}\n    }\n\n    isUsingLearnDashReCaptcha() {\n    \t// Check if grecaptcha is defined\n    \t// Check if LD_TP is defined\n    \t// Check if LD_TP.site_key is defined\n    \treturn isDefined( window.grecaptcha ) && isDefined( window.LD_TP ) && isDefined( LD_TP.site_key );\n    }\n\n    hasLearnDashReCaptchField() {\n    \tlet hasField = false;\n\n    \t// Check if the element exists\n    \tif ( isDefined( this.$elements.mainForm ) ) {\n    \t\t// Check if the field exists\n    \t\thasField = isDefined( this.$elements.mainForm.querySelector( 'input[name=\"token\"]' ) );\n    \t}\n\n    \treturn hasField;\n    }\n}\nexport class Login extends FrontendLogin {\n\tconstructor() {\n\t\tsuper();\n\n\t\t// Set visibility of content of password field\n\t\tnew PasswordField( this.$elements.formFields.password );\n\t}\n\n\tgetElements(){\n\t\t// Get the main elements\n\t\tthis.$elements = {\n\t\t\tcontainer: document.getElementById( 'ult-login' ),\n\t\t\tmainForm:  document.getElementById( 'ult-login-form' ),\n\t\t\tsubmitButton: {\n\t\t\t\tcontainer: document.getElementsByClassName( 'login-submit' )[0],\n\t\t\t\tbutton: document.getElementById( 'ult-login-submit' )\n\t\t\t},\n\t\t\terrorNotice: {\n\t\t\t\tcontainer: document.querySelector( '#ult-login .ult-form__validation' ),\n\t\t\t\ttextNode: document.querySelector( '#ult-login .ult-notice-text' ),\n\t\t\t},\n\t\t\tformFields: {\n\t\t\t\temail: document.getElementById( 'ult-login-email' ),\n\t\t\t\tpassword: document.getElementById( 'ult-login-password' ),\n\t\t\t\tredirectTo: document.querySelector( '#ult-login .login-submit input[name=\"redirect_to\"]' ),\n\t\t\t\treCAPTCHA: document.querySelector( '#ult-login .ult-form-recaptcha' ),\n\t\t\t\trememberMe: document.getElementById( 'ult-login-remember' ),\n\t\t\t}\n\t\t}\n\t}\n\n\tget id(){\n\t\treturn 'login';\n\t}\n\n\t// Define the AJAX action ID\n\tget ajaxAction(){\n\t\treturn 'ult-login';\n\t}\n\n\tget cssClasses(){\n\t\treturn {\n\t\t\treCAPTCHAerror: 'ult-login--recaptcha-error',\n\t\t\tloading:        'ult-login--loading',\n\t\t\tdisabled:       'ult-login--disabled',\n\t\t\tbtnLoading:     'ult-form__submit-btn--loading',\n\t\t\tbtnDisabled:    'ult-form__submit-btn--disabled',\n\t\t\tnoticeHasError: 'ult-form__validation--has-error',\n\t\t};\n\t}\n\n\tget formData(){\n\n\t\t// The form data.\n\t\tconst formDataDefault = {\n\t\t\temail: this.$elements.formFields.email.value,\n\t\t\tpassword: this.$elements.formFields.password.value,\n\t\t\tredirectTo: this.$elements.formFields.redirectTo.value,\n\t\t}\n\n\t\t// Merge the default data with modules specific.\n\t\tconst formData = Object.assign({}, formDataDefault, UOToolkitFrontEndLoginFormData);\n\n\t\t// Check if it has the \"Remember me\" checkbox\n\t\tif ( isDefined( this.$elements.formFields.rememberMe ) ){\n\t\t\tformData.rememberMe = this.$elements.formFields.rememberMe.checked;\n\t\t}\n\n\t\t// Check if it has a reCAPTCHA\n\t\tif ( this.hasReCAPTCHA() ){\n\t\t\tformData[ 'g-recaptcha-response' ] = this.getReCAPTCHAResponse();\n\t\t}\n\n\t\t// Check if it has a LearnDash reCAPTCHA\n\t\tif ( isDefined( this.$elements.mainForm.querySelector( '#ult-form-ld-recaptcha' ) ) ) {\n\t\t\tformData.token = this.$elements.mainForm.querySelector( '#ult-form-ld-recaptcha' ).value;\n\t\t}\n\n\t\t// Check if it has a uo_is_login_modal hidden field to detect login modal request.\n\t\tif ( isDefined( this.$elements.mainForm.querySelector( 'input[name=\"uo_is_login_modal\"]' ) ) ) {\n\t\t\tformData.uo_is_login_modal = this.$elements.mainForm.querySelector( 'input[name=\"uo_is_login_modal\"]' ).value;\n\t\t}\n\n\t\treturn formData;\n\t}\n\n\tafterValidSubmission( response ){\n\n\t\t// Show the loading animation again, we're going \n\t\t// to redirect them to another page and it might\n\t\t// take some seconds\n\n\t\t// Add the loading animation\n\t\tthis.setLoadingStatus( true );\n\n\t\t// Disable the submit button\n\t\tthis.setButtonDisableStatus( true );\n\n\t\t// Check if we have to redirect to a URL\n\t\tif ( ! isEmpty( response.redirectTo ) ){\n\t\t\twindow.location.href = response.redirectTo;\n\t\t}\n\t\t// Otherwise, just reload the page\n\t\telse {\n\t\t\twindow.location.reload();\n\t\t}\n\t}\n}\n\nexport class ForgotPassword extends FrontendLogin {\n\tgetElements(){\n\t\t// Get the main elements\n\t\tthis.$elements = {\n\t\t\tcontainer: document.getElementById( 'ult-forgot-password' ),\n\t\t\tboxContent: document.querySelector( '#ult-forgot-password .ult-form__content' ),\n\t\t\tmainForm:  document.getElementById( 'ult-forgot-password-form' ),\n\t\t\tsubmitButton: {\n\t\t\t\tcontainer: document.querySelector( '.ult-form__row--submit' ),\n\t\t\t\tbutton: document.getElementById( 'ult-forgot-password-submit-btn' )\n\t\t\t},\n\t\t\terrorNotice: {\n\t\t\t\tcontainer: document.querySelector( '#ult-forgot-password .ult-form__validation' ),\n\t\t\t\ttextNode: document.querySelector( '#ult-forgot-password .ult-notice-text' ),\n\t\t\t},\n\t\t\tformFields: {\n\t\t\t\temail: document.getElementById( 'ult-forgot-email' ),\n\t\t\t\treCAPTCHA: document.querySelector( '#ult-forgot-password .ult-form-recaptcha' ),\n\t\t\t}\n\t\t}\n\t}\n\n\tget id(){\n\t\treturn 'forgot-password';\n\t}\n\n\t// Define the AJAX action ID\n\tget ajaxAction(){\n\t\treturn 'ult-forgot-password';\n\t}\n\n\tget cssClasses(){\n\t\treturn {\n\t\t\treCAPTCHAerror: 'ult-forgot-password--recaptcha-error',\n\t\t\tloading:        'ult-forgot-password--loading',\n\t\t\tdisabled:       'ult-forgot-password--disabled',\n\t\t\tbtnLoading:     'ult-form__submit-btn--loading',\n\t\t\tbtnDisabled:    'ult-form__submit-btn--disabled',\n\t\t\tnoticeHasError: 'ult-form__validation--has-error' \n\t\t};\n\t}\n\n\tget formData(){\n\t\t// Get the form data\n\t\tconst formDataDefault = {\n\t\t\temail: this.$elements.formFields.email.value\n\t\t}\n\n\t\tconst formData = Object.assign({}, formDataDefault, UOToolkitFrontEndLoginFormData);\n\n\t\t// Check if it has a reCAPTCHA\n\t\tif ( this.hasReCAPTCHA() ){\n\t\t\tformData[ 'g-recaptcha-response' ] = this.getReCAPTCHAResponse();\n\t\t}\n\n\t\t// Check if it has a LearnDash reCAPTCHA\n\t\tif ( isDefined( this.$elements.mainForm.querySelector( '#ult-form-ld-recaptcha' ) ) ) {\n\t\t\tformData.token = this.$elements.mainForm.querySelector( '#ult-form-ld-recaptcha' ).value;\n\t\t}\n\n\t\treturn formData;\n\t}\n\n\tafterValidSubmission( response ){\n\t\t// Show a confirmation message\n\t\tthis.$elements.boxContent.innerHTML = response.message;\n\t}\n}\n\nexport class ResetPassword extends FrontendLogin {\n\tgetElements(){\n\t\t// Get the main elements\n\t\tthis.$elements = {\n\t\t\tcontainer: document.getElementById( 'ult-reset-password' ),\n\t\t\tboxContent: document.querySelector( '#ult-reset-password .ult-form__content' ),\n\t\t\tmainForm:  document.getElementById( 'ult-reset-password-form' ),\n\t\t\tsubmitButton: {\n\t\t\t\tcontainer: document.querySelector( '.ult-form__row--submit' ),\n\t\t\t\tbutton: document.getElementById( 'ult-reset-password-submit-btn' )\n\t\t\t},\n\t\t\terrorNotice: {\n\t\t\t\tcontainer: document.querySelector( '#ult-reset-password .ult-form__validation' ),\n\t\t\t\ttextNode: document.querySelector( '#ult-reset-password .ult-notice-text' ),\n\t\t\t},\n\t\t\tformFields: {\n\t\t\t\tpassword: document.getElementById( 'ult-reset-new-password' ),\n\t\t\t\tpasswordRepeat: document.getElementById( 'ult-reset-confirm-password' ),\n\t\t\t\treCAPTCHA: document.querySelector( '#ult-reset-password .ult-form-recaptcha' ),\n\t\t\t}\n\t\t}\n\t}\n\n\tget id(){\n\t\treturn 'reset-password';\n\t}\n\n\t// Define the AJAX action ID\n\tget ajaxAction(){\n\t\treturn 'ult-reset-password';\n\t}\n\n\tget cssClasses(){\n\t\treturn {\n\t\t\treCAPTCHAerror: 'ult-reset-password--recaptcha-error',\n\t\t\tloading:        'ult-reset-password--loading',\n\t\t\tdisabled:       'ult-reset-password--disabled',\n\t\t\tbtnLoading:     'ult-form__submit-btn--loading',\n\t\t\tbtnDisabled:    'ult-form__submit-btn--disabled',\n\t\t\tnoticeHasError: 'ult-form__validation--has-error' \n\t\t};\n\t}\n\n\tget formData(){\n\t\t// Get the form data\n\t\tconst formData = {\n\t\t\tpassword: this.$elements.formFields.password.value,\n\t\t\tpasswordRepeat: this.$elements.formFields.passwordRepeat.value,\n\t\t}\n\n\t\t// Check if it has a reCAPTCHA\n\t\tif ( this.hasReCAPTCHA() ){\n\t\t\tformData[ 'g-recaptcha-response' ] = this.getReCAPTCHAResponse();\n\t\t}\n\n\t\t// Check if it has a LearnDash reCAPTCHA\n\t\tif ( isDefined( this.$elements.mainForm.querySelector( '#ult-form-ld-recaptcha' ) ) ) {\n\t\t\tformData.token = this.$elements.mainForm.querySelector( '#ult-form-ld-recaptcha' ).value;\n\t\t}\n\n\t\treturn formData;\n\t}\n\n\tafterValidSubmission( response ){\n\t\t// Show a confirmation message\n\t\tthis.$elements.boxContent.innerHTML = response.message;\n\t}\n}\n\n/**\n * This class handles the login functionality when it's inside a dialog\n */\nexport class FrontendLogin_Modal {\n\tconstructor(){\n\t\t// Check if we should invoke the callbacks\n\t\tif ( this.shouldInvokeMethods() ){\n\t\t\t// Get elements\n\t\t\tthis.getElements();\n\n\t\t\t// Handle clicks to the buttons to show the sections\n\t\t\tthis.handleContainerVisiblity();\n\t\t}\n\t\telse {\n\t\t\t// Check if the current page is the Login page\n\t\t\t// That would mean that the modal is not defined here\n\t\t\t// We want to reload the page when they click on the \"Login\" link\n\t\t\tif ( \n\t\t\t\tisDefined( UncannyToolkit.frontendLogin ) && \n\t\t\t\tisDefined( UncannyToolkit.frontendLogin.currentPageIsLoginPage ) &&  \n\t\t\t\tUncannyToolkit.frontendLogin.currentPageIsLoginPage\n\t\t\t){\n\t\t\t\tthis.handleModalInLoginPage();\n\t\t\t}\n\t\t}\n\t}\n\n\tgetElements(){\n\t\tthis.$elements = {\n\t\t\tcontainer: document.getElementById( 'ult-login-modal' ),\n\t\t\tloginShowButton: document.getElementById( 'ult-form-footer-login' ),\n\t\t\tforgotPasswordShowButton: document.getElementById( 'ult-form-footer-forgot-password' ),\n\t\t}\n\t}\n\n\thandleContainerVisiblity(){\n\t\tif ( isDefined( this.$elements.forgotPasswordShowButton ) ){\n\t\t\t// Listen clicks to the button to show the Forgot Password section\n\t\t\tthis.$elements.forgotPasswordShowButton.addEventListener( 'click', ( event ) => {\n\t\t\t\t// Prevent the event, we don't want to send them to another page\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// Show the Forgot Password form\n\t\t\t\tthis.showSection( 'forgot-password' );\n\t\t\t});\n\t\t}\n\t\t\n\t\tif ( isDefined( this.$elements.loginShowButton ) ){\n\t\t\t// Listen clicks to the button to show the Log in section\n\t\t\tthis.$elements.loginShowButton.addEventListener( 'click', ( event ) => {\n\t\t\t\t// Prevent the event, we don't want to send them to another page\n\t\t\t\tevent.preventDefault();\n\n\t\t\t\t// Show the Forgot Password form\n\t\t\t\tthis.showSection( 'login' );\n\t\t\t});\n\t\t}\n\t}\n\n\tshowSection( section = 'login' ){\n\t\t// Remove both classes. We'll add the correct one later\n\t\tthis.$elements.container.classList.remove( 'ult-login-modal--login', 'ult-login-modal--forgot-password' );\n\n\t\t// Show and hide sections\n\t\tif ( section == 'login' ){\n\t\t\tthis.$elements.container.classList.add( 'ult-login-modal--login' );\n\t\t}\n\t\telse if ( section == 'forgot-password' ){\n\t\t\tthis.$elements.container.classList.add( 'ult-login-modal--forgot-password' );\n\t\t}\n\t}\n\n\tshouldInvokeMethods(){\n\t\treturn (\n\t\t\tisDefined( UncannyToolkit.frontendLogin ) && \n\t\t\tisDefined( UncannyToolkit.frontendLogin.currentPageIsLoginPage ) && \n\t\t\t! UncannyToolkit.frontendLogin.currentPageIsLoginPage && \n\t\t\tisDefined( UncannyToolkit.modals[ 'ult-login' ] )\n\t\t);\n\t}\n\n\thandleModalInLoginPage(){\n\t\tevents.on( 'click', `[href*=\"ult-modal-open----ult-login\"]`, ( event ) => {\n\t\t\t// Prevent default\n\t\t\tevent.preventDefault();\n\n\t\t\t// Reload the page\n\t\t\tlocation.reload();\n\t\t});\n\t}\n}\n\nexport class Login2ndFactor {\n\tid = 'login-2nd-factor';\n\n\tconstructor() {\n\t\t// Check if the form exists\n\t\tif ( this.$form ) {\n\t\t\t// Listen submission\n\t\t\tthis.listenSubmission();\n\t\t}\n\t}\n\n\t/**\n\t * Listens the submission of the form\n\t */\n\tlistenSubmission() {\n\t\tthis.$form.addEventListener( 'submit', ( event ) => {\n\t\t\t// Add loading animation to the button\n\t\t\tthis.setLoadingStatus( true );\n\n\t\t\t// Disable button\n\t\t\tthis.setButtonDisableStatus( true );\n\t\t} );\n\t}\n\n\t/**\n\t * Sets the loading status\n\t * \n\t * @param {Boolean} setAsLoading TRUE if it should show the loading animation\n\t */\n\tsetLoadingStatus( setAsLoading = true ){\n\t\t// Check if we have to add a loading animation to the submit button\n\t\tif ( UncannyToolkit.frontendLogin.ui.showAnimationOnSubmit ){\n\t\t\t// Check if we have to enable the loading status\n\t\t\tif ( setAsLoading ){\n\t\t\t\t// Add the loading animation\n\t\t\t\tthis.$elements.container.classList.add( this.cssClasses.loading );\n\t\t\t\tthis.$elements.submitButton.container.classList.add( this.cssClasses.btnLoading );\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent( `uncanny-toolkit/frontend-login/${ this.id }/set-loading`, {\n\t\t\t\t\tisLoading: true\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Remove the loading status\n\t\t\t\tthis.$elements.container.classList.remove( this.cssClasses.loading );\n\t\t\t\tthis.$elements.submitButton.container.classList.remove( this.cssClasses.btnLoading );\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent( `uncanny-toolkit/frontend-login/${ this.id }/set-loading`, {\n\t\t\t\t\tisLoading: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Sets the disabled status\n\t * \n\t * @param {Boolean} setAsDisabled TRUE if it should disable the form\n\t */\n\tsetButtonDisableStatus( setAsDisabled = true ){\n\t\t// Check if we have to disable the submit button\n\t\tif ( UncannyToolkit.frontendLogin.ui.buttonDisabledOnSubmit ){\n\t\t\t// Check if we have to set it as disabled\n\t\t\tif ( setAsDisabled ){\n\t\t\t\t// Disable the submit button\n\t\t\t\tthis.$elements.container.classList.add( this.cssClasses.disabled );\n\t\t\t\tthis.$elements.submitButton.container.classList.add( this.cssClasses.btnDisabled );\n\t\t\t\tthis.$elements.submitButton.button.setAttribute( 'disabled', true );\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent( `uncanny-toolkit/frontend-login/${ this.id }/disable-button`, {\n\t\t\t\t\tdisable: true\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Disable the submit button\n\t\t\t\tthis.$elements.container.classList.remove( this.cssClasses.disabled );\n\t\t\t\tthis.$elements.submitButton.container.classList.remove( this.cssClasses.btnDisabled );\n\t\t\t\tthis.$elements.submitButton.button.removeAttribute( 'disabled' );\n\n\t\t\t\t// Trigger custom event\n\t\t\t\ttriggerEvent( `uncanny-toolkit/frontend-login/${ this.id }/disable-button`, {\n\t\t\t\t\tdisable: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Returns the CSS classes used in the elements of this form\n\t * \n\t * @return {Object} CSS classes\n\t */\n\tget cssClasses(){\n\t\treturn {\n\t\t\tloading:        'ult-login--loading',\n\t\t\tdisabled:       'ult-login--disabled',\n\t\t\tbtnLoading:     'ult-form__submit-btn--loading',\n\t\t\tbtnDisabled:    'ult-form__submit-btn--disabled',\n\t\t};\n\t}\n\n\t/**\n\t * Returns the main elements of the form\n\t * \n\t * @return {Object} Object of Nodes\n\t */\n\tget $elements() {\n\t\treturn {\n\t\t\tcontainer: document.getElementById( 'ult-login' ),\n\t\t\tsubmitButton: {\n\t\t\t\tcontainer: this.$form.querySelector( '.submit' ),\n\t\t\t\tbutton: this.$form.querySelector( '.submit input[type=\"submit\"]' )\n\t\t\t},\n\t\t}\n\t}\n\n\t/**\n\t * Returns the main form\n\t * \n\t * @return {Node} The form\n\t */\n\tget $form() {\n\t\treturn document.getElementById( 'ult-2fa-validation-form--templated' );\n\t}\n}","import {\n\tisDefined\n} from './_utilities';\n\n/**\n * Render reCAPTCHAs\n */\n\nclass reCAPTCHAs {\n\tconstructor(){\n\t\t// Get elements\n\t\tthis.whenReady(() => {\n\t\t\t// Render the reCAPTCHAs\n\t\t\tthis.renderReCaptchas();\n\t\t});\n\t}\n\n\twhenReady( callback ){\n\t\t// Define a function that will be invoked once Google reCAPTCHA\n\t\t// is ready to use\n\t\twindow.UncannyToolkit.reCaptchaInit = () => {\n\t\t\t// Invoke the callback\n\t\t\tcallback();\n\t\t}\n\t}\n\n\trenderReCaptchas(){\n\t\t// Get containers\n\t\tconst $reCAPTCHAs = document.querySelectorAll( '.ult-form-recaptcha' );\n\n\t\t// Iterate the elements\n\t\t[].forEach.call( $reCAPTCHAs, ( $reCAPTCHA ) => {\n\t\t\t// Render the reCAPTCHA\n\t\t\tconst id = window.grecaptcha.render( $reCAPTCHA, {\n\t\t\t\tsitekey:  $reCAPTCHA.getAttribute( 'data-sitekey' ),\n\t\t\t\tcallback: $reCAPTCHA.getAttribute( 'data-callback' )\n\t\t\t});\n\n\t\t\t// Add the ID to the element so we can get the correct\n\t\t\t// validation token later\n\t\t\t$reCAPTCHA.setAttribute( 'data-id', id );\n\t\t});\n\t}\n}\n\nexport default reCAPTCHAs;","const events = require( 'eventslibjs' );\n\nimport {\n\tfade,\n\tdelegateEvent,\n\tisEmpty,\n\tisDefined\n} from './_utilities';\n\nclass Modals {\n\tconstructor(){\n\t\t// Create an array to save the IDs of all the modals\n\t\t// on this page\n\t\tthis.allModals = [];\n\n\t\t// Create a property in the main global object\n\t\t// to save the modals\n\t\tUncannyToolkit.modals = {};\n\n\t\t// Get elements\n\t\tthis.getElements();\n\n\t\t// Initialize modals\n\t\tthis.createModals();\n\t}\n\n\tgetElements(){\n\t\tthis.$elements = {\n\t\t\tmodals: document.querySelectorAll( '.ult-modal' )\n\t\t}\n\t}\n\n\tcreateModals(){\n\t\t// Itearate the modals (if any)\n\t\t[].forEach.call( this.$elements.modals, ( $modal ) => {\n\t\t\t// Get the modal ID\n\t\t\tconst modalID = isDefined( $modal.getAttribute( 'data-id' ) ) ? $modal.getAttribute( 'data-id' ) : '';\n\n\t\t\t// Check if there isn't already a modal with that ID\n\t\t\tif ( ! this.allModals.includes( modalID ) ){\n\t\t\t\t// Then create the modal\n\t\t\t\tlet modal = new Modal( $modal );\n\n\t\t\t\t// And save the ID\n\t\t\t\tthis.allModals.push( modalID );\n\n\t\t\t\t// Save the modal in the main global variable\n\t\t\t\tUncannyToolkit.modals[ modalID ] = modal;\n\t\t\t}\n\t\t});\n\t}\n}\n\nclass Modal {\n\tconstructor( $modalContent ){\n\t\t// Get the modal data\n\t\tthis.getModalData( $modalContent );\n\n\t\t// Render the modal\n\t\tthis.renderModal( $modalContent );\n\n\t\t// Listen clicks to containers that are trying to open the modal\n\t\tthis.handleModalOpen();\n\n\t\t// Listen clicks outside the modal box\n\t\tthis.handleClickOutsideTheModal();\n\t}\n\n\tgetModalData( $modalContent ){\n\t\t// Get the main modal data like ID, title and the parameter\n\t\t// that defines whether it should have the \"Discard\" button\n\t\tthis.modalData = {\n\t\t\tid:         isDefined( $modalContent.getAttribute( 'data-id' ) ) ? $modalContent.getAttribute( 'data-id' ) : '',\n\t\t\ttitle:      isDefined( $modalContent.getAttribute( 'data-title' ) ) ? $modalContent.getAttribute( 'data-title' ) : '',\n\t\t\tbtnDismiss: isDefined( $modalContent.getAttribute( 'data-btn-dismiss' ) ) ? !! parseInt( $modalContent.getAttribute( 'data-btn-dismiss' ) ) : true,\n\t\t\tdimBackground: isDefined( $modalContent.getAttribute( 'data-dim-background' ) ) ? !! parseInt( $modalContent.getAttribute( 'data-dim-background' ) ) : true,\n\t\t}\n\t}\n\n\trenderModal( $modalContent ){\n\t\t// Create the modal\n\t\tconst $modal = document.createElement( 'div' );\n\n\t\t// Set the element ID\n\t\t$modal.id = `ult-modal-container-${ this.modalData.id }`;\n\n\t\t// Add class to the main container\n\t\t$modal.classList.add( 'ult-modal-container' );\n\n\t\t// Set the data-id attribute\n\t\t$modal.setAttribute( 'data-id', this.modalData.id );\n\n\t\t// Set the children\n\t\t$modal.innerHTML = `\n\t\t\t<div class=\"ult-modal__inside\">\n\t\t\t\t<div class=\"ult-modal-box\">\n\t\t\t\t\t${ ! isEmpty( this.modalData.title ) ? `\n\t\t\t\t\t\t<div class=\"ult-modal-box-header\">\n\t\t\t\t\t\t\t<h2>${ this.modalData.title }</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t` : '' }\n\n\t\t\t\t\t<div class=\"ult-modal-box-content\"></div>\n\n\t\t\t\t\t${ this.modalData.btnDismiss ? `\n\t\t\t\t\t\t<div class=\"ult-modal-box-footer\">\n\t\t\t\t\t\t\t<button class=\"ult-modal-box-footer__dismiss\">\n\t\t\t\t\t\t\t\t${ UncannyToolkit.i18n.dismiss }\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t` : '' }\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t`;\n\n\t\t// Add the modal content\n\t\t$modal.querySelector( '.ult-modal-box-content' ).appendChild( $modalContent );\n\n\t\t// Add the modal to the end of the document\n\t\tdocument.body.appendChild( $modal );\n\n\t\t// Save the main elements\n\t\tthis.$elements = {\n\t\t\tcontainer: $modal,\n\t\t\tbox: $modal.querySelector( '.ult-modal-box' ),\n\t\t\tcontent: $modal.querySelector( '.ult-modal-box-content .ult-modal' )\n\t\t}\n\n\t\t// Check if it has the dismiss button\n\t\tif ( this.modalData.btnDismiss ){\n\t\t\t// Get the dismiss button\n\t\t\tthis.$elements.dismissBtn = $modal.querySelector( '.ult-modal-box-footer__dismiss' );\n\n\t\t\t// Add the event listener\n\t\t\tthis.handleDismissButton();\n\t\t}\n\t}\n\n\thandleModalOpen(){\n\t\t// Listen clicks to the document, but invoke the callback only if the\n\t\t// clicked element matches one of the following selectors:\n\t\t// 1. .ult-modal-open[data-id=\"${ this.modalData.id }\"]\n\t\t// 2. [class*=\"ult-modal-open----${ this.modalData.id }\"]\n\t\t// 3. [href*=\"ult-modal-open----${ this.modalData.id }\"]\n\t\tevents.on( 'click', `.ult-modal-open[data-id=\"${ this.modalData.id }\"], [class*=\"ult-modal-open----${ this.modalData.id }\"], [href*=\"ult-modal-open----${ this.modalData.id }\"]`, ( event ) => {\n\t\t\t// Prevent default\n\t\t\tevent.preventDefault();\n\n\t\t\t// Show the modal\n\t\t\tthis.showModal(); \n\t\t});\n\t}\n\n\thandleDismissButton(){\n\t\t// Listen clicks to the dismiss button\n\t\tthis.$elements.dismissBtn.addEventListener( 'click', () => {\n\t\t\t// Hide the modal\n\t\t\tthis.hideModal();\n\t\t});\n\t}\n\n\thandleClickOutsideTheModal(){\n\t\t// Listen clicks to the while modal container\n\t\tthis.$elements.container.addEventListener( 'mouseup', ( event ) => {\n            // Set the targetted container\n            const $container = this.$elements.box;\n\n            if ( ( $container !== event.target ) && ! $container.contains( event.target ) ){\n                // Hide modal\n                this.hideModal();\n            }\n        });\n\t}\n\n\tsetLoading( isLoading = true ){\n\t\t// Check if we have to set the loading class\n\t\tif ( isLoading ){\n\t\t\tthis.$elements.container.classList.add( 'ult-modal-container--loading' );\n\t\t}\n\t\telse {\n\t\t\t// Remove the loading class\n\t\t\tthis.$elements.container.classList.remove( 'ult-modal-container--loading' );\n\t\t}\n\t}\n\n\tsetContent( HTMLcontent = '' ){\n\t\t// Set the content\n\t\tthis.$elements.content.innerHTML = HTMLcontent;\n\t}\n\n\tshowModal(){\n\t\t// Show the modal\n\t\tfade( 'in', this.$elements.container );\n\t\tthis.$elements.container.classList.add( 'ult-modal-container--open' );\n\n\t\t// Add class to the body element, so the user can use it\n\t\t// to change other stuff\n\t\tdocument.body.classList.add( 'ult-modals--open' );\n\n\t\t// Check if we have to dim the background\n\t\tif ( this.modalData.dimBackground ){\n\t\t\t// Add class to dim the background\n\t\t\tdocument.body.classList.add( 'ult-modals--dim-background' );\n\t\t}\n\t}\n\n\thideModal(){\n\t\t// Hide the modal\n\t\tfade( 'out', this.$elements.container, () => {\n\t\t\t// Hide the modal\n\t\t\tthis.$elements.container.classList.remove( 'ult-modal-container--open' );\n\n\t\t\t// Remove class from the body element\n\t\t\tdocument.body.classList.remove( 'ult-modals--open' );\n\n\t\t\t// Remove the class to dim the background\n\t\t\tdocument.body.classList.remove( 'ult-modals--dim-background' );\n\t\t});\n\t}\n}\n\nexport default Modals;","import 'whatwg-fetch';\nimport 'url-search-params-polyfill';\n\nimport {\n\tLogin,\n\tForgotPassword,\n\tResetPassword,\n\tLogin2ndFactor,\n\tFrontendLogin_Modal\n} from './js/frontend-login';\n\nimport reCAPTCHAs from './js/recaptcha';\nimport Modals from './js/dialog';\n\nimport './scss/main.scss';\n\n// Do on DOM ready\ndocument.addEventListener( 'DOMContentLoaded', () => {\n\t// reCAPTCHA (global module)\n\tnew reCAPTCHAs();\n\n\t// Modals (global module)\n\tnew Modals();\n\n\t// Frontend Login\n\tnew Login();\n\tnew ForgotPassword();\n\tnew ResetPassword();\n\tnew Login2ndFactor();\n\n\t// Exceptions for the login form when\n\t// it's used on a modal\n\tnew FrontendLogin_Modal();\n});"],"sourceRoot":""}