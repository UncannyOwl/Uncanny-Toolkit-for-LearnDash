!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){(function(n){var o,i;/*! eventslibjs v1.2.0 | (c) 2019 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/events */window.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(t){var e,n=(this.document||this.ownerDocument).querySelectorAll(t),o=this;do{for(e=n.length;0<=--e&&n.item(e)!==o;);}while(e<0&&(o=o.parentElement));return o}),i=void 0!==n?n:"undefined"!=typeof window?window:this,void 0===(o=function(){return function(t){"use strict";var e={},n={},o=function(e){n[e.type]&&n[e.type].forEach((function(n){var o,i;o=e.target,i=n.selector,(-1<["*","window","document","document.documentElement",t,document,document.documentElement].indexOf(i)||("string"!=typeof i&&i.contains?i===o||i.contains(o):o.closest(i)))&&n.callback(e)}))};return e.on=function(e,i,s){i&&s&&e.split(",").forEach((function(e){e=e.trim(),n[e]||(n[e]=[],t.addEventListener(e,o,!0)),n[e].push({selector:i,callback:s})}))},e.off=function(e,i,s){e.split(",").forEach((function(e){if(e=e.trim(),n[e]){if(n[e].length<2||!i)return delete n[e],void t.removeEventListener(e,o,!0);var r=function(t,e,n){for(var o=0;o<t.length;o++)if(t[o].selector===e&&t[o].callback.toString()===n.toString())return o;return-1}(n[e],i,s);r<0||n[e].splice(r,1)}}))},e.once=function(t,n,o){e.on(t,n,(function i(s){o(s),e.off(t,n,i)}))},e.get=function(){var t={};for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);return t},e}(i)}.apply(e,[]))||(t.exports=o)}).call(this,n(1))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var o=function(t){return null!=t},i=function(t){return t===Object(t)},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"in",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i="ult--fade-".concat(t);n=o(n)?n:function(){},e.classList.add(i),setTimeout((function(){e.classList.remove(i),n()}),300)};function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}var b=function(){function t(){d(this,t),this.getElements(),this.shouldInvokeMethods()&&this.validateFormSubmission()}return f(t,[{key:"getElements",value:function(){this.$elements={},this.cssClasses={}}},{key:"validateFormSubmission",value:function(){var t=this;o(this.$elements.mainForm)&&(this.$elements.mainForm.onsubmit=function(e){var n=!0;UncannyToolkit.frontendLogin.hasReCAPTCHA&&!t.isCaptchaChecked()&&(t.$elements.container.classList.add(t.cssClasses.reCAPTCHAerror),n=!1,console.error("✋Frontend Login: The form is using reCAPTCHA, but you didn't pass the verification")),n?t.submitForm():(e.preventDefault(),console.error("✋Frontend Login: Submission prevented"))})}},{key:"submitForm",value:function(){this.setLoadingStatus(!0),this.setButtonDisableStatus(!0)}},{key:"setLoadingStatus",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];UncannyToolkit.frontendLogin.ui.showAnimationOnSubmit&&(t?(this.$elements.container.classList.add(this.cssClasses.loading),this.$elements.submitButton.container.classList.add(this.cssClasses.btnLoading)):(this.$elements.container.classList.remove(this.cssClasses.loading),this.$elements.submitButton.container.classList.remove(this.cssClasses.btnLoading)))}},{key:"setButtonDisableStatus",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];UncannyToolkit.frontendLogin.ui.buttonDisabledOnSubmit&&(t?(this.$elements.container.classList.add(this.cssClasses.disabled),this.$elements.submitButton.container.classList.add(this.cssClasses.btnDisabled),this.$elements.submitButton.button.setAttribute("disabled",!0)):(this.$elements.container.classList.remove(this.cssClasses.disabled),this.$elements.submitButton.container.classList.remove(this.cssClasses.btnDisabled),this.$elements.submitButton.button.setAttribute("disabled",!1)))}},{key:"isCaptchaChecked",value:function(){return grecaptcha&&0!==grecaptcha.getResponse().length}},{key:"shouldInvokeMethods",value:function(){return o(this.$elements.container)}}]),t}(),h=function(t){function e(){return d(this,e),a(this,l(e).apply(this,arguments))}return u(e,t),f(e,[{key:"getElements",value:function(){this.$elements={container:document.getElementById("ult-login"),mainForm:document.getElementById("ult-login-form"),submitButton:{container:document.getElementsByClassName("login-submit")[0],button:document.getElementById("ult-login-submit")}},this.cssClasses={reCAPTCHAerror:"ult-login--recaptcha-error",loading:"ult-login--loading",disabled:"ult-login--disabled",btnLoading:"ult-form__submit-btn--loading",btnDisabled:"ult-form__submit-btn--disabled"}}}]),e}(b),p=function(t){function e(){return d(this,e),a(this,l(e).apply(this,arguments))}return u(e,t),f(e,[{key:"getElements",value:function(){this.$elements={container:document.getElementById("ult-forgot-password"),mainForm:document.getElementById("ult-forgot-password-form"),submitButton:{container:document.querySelector(".ult-form__row--submit"),button:document.getElementById("ult-forgot-password-submit-btn")}},this.cssClasses={reCAPTCHAerror:"ult-forgot-password--recaptcha-error",loading:"ult-forgot-password--loading",disabled:"ult-forgot-password--disabled",btnLoading:"ult-form__submit-btn--loading",btnDisabled:"ult-form__submit-btn--disabled"}}}]),e}(b),y=function(t){function e(){return d(this,e),a(this,l(e).apply(this,arguments))}return u(e,t),f(e,[{key:"getElements",value:function(){this.$elements={container:document.getElementById("ult-reset-password"),mainForm:document.getElementById("ult-reset-password-form"),submitButton:{container:document.querySelector(".ult-form__row--submit"),button:document.getElementById("ult-reset-password-submit-btn")}},this.cssClasses={reCAPTCHAerror:"ult-reset-password--recaptcha-error",loading:"ult-reset-password--loading",disabled:"ult-reset-password--disabled",btnLoading:"ult-form__submit-btn--loading",btnDisabled:"ult-form__submit-btn--disabled"}}}]),e}(b);function g(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function E(t,e,n){return e&&w(t.prototype,e),n&&w(t,n),t}var k=n(0),C=function(){function t(){v(this,t),this.allModals=[],this.getElements(),this.createModals()}return E(t,[{key:"getElements",value:function(){this.$elements={modals:document.querySelectorAll(".ult-modal")}}},{key:"createModals",value:function(){var t=this;g(this.$elements.modals).forEach((function(e){var n=o(e.getAttribute("data-id"))?e.getAttribute("data-id"):"";t.allModals.includes(n)||(new _(e),t.allModals.push(n))}))}}]),t}(),_=function(){function t(e){v(this,t),this.getModalData(e),this.renderModal(e),this.handleModalOpen(),this.handleClickOutsideTheModal()}return E(t,[{key:"getModalData",value:function(t){this.modalData={id:o(t.getAttribute("data-id"))?t.getAttribute("data-id"):"",title:o(t.getAttribute("data-title"))?t.getAttribute("data-title"):"",btnDismiss:!o(t.getAttribute("data-btn-dismiss"))||!!parseInt(t.getAttribute("data-btn-dismiss"))}}},{key:"renderModal",value:function(t){var e,n,s=document.createElement("div");s.classList.add("ult-modal-container"),s.setAttribute("data-id",this.modalData.id),s.innerHTML='\n\t\t\t<div class="ult-modal__inside">\n\t\t\t\t<div class="ult-modal-box">\n\t\t\t\t\t'.concat((e=this.modalData.title,n=!0,o(e)&&(n=Array.isArray(e)?0==e.length:i(e)?0==Object.keys(e).length:""==e),n?"":'\n\t\t\t\t\t\t<div class="ult-modal-box-header">\n\t\t\t\t\t\t\t<h2>'.concat(this.modalData.title,"</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t")),'\n\n\t\t\t\t\t<div class="ult-modal-box-content"></div>\n\n\t\t\t\t\t').concat(this.modalData.btnDismiss?'\n\t\t\t\t\t\t<div class="ult-modal-box-footer">\n\t\t\t\t\t\t\t<button class="ult-modal-box-footer__dismiss">\n\t\t\t\t\t\t\t\t'.concat(UncannyToolkit.i18n.dismiss,"\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"):"","\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"),s.querySelector(".ult-modal-box-content").appendChild(t),document.body.appendChild(s),this.$elements={container:s,box:s.querySelector(".ult-modal-box")},this.modalData.btnDismiss&&(this.$elements.dismissBtn=s.querySelector(".ult-modal-box-footer__dismiss"),this.handleDismissButton())}},{key:"handleModalOpen",value:function(){var t=this;k.on("click",'.ult-modal-open[data-id="'.concat(this.modalData.id,'"], [class*="ult-modal-open----').concat(this.modalData.id,'"], [href*="ult-modal-open----').concat(this.modalData.id,'"]'),(function(e){e.preventDefault(),t.showModal()}))}},{key:"handleDismissButton",value:function(){var t=this;this.$elements.dismissBtn.addEventListener("click",(function(){t.hideModal()}))}},{key:"handleClickOutsideTheModal",value:function(){var t=this;this.$elements.container.addEventListener("mouseup",(function(e){var n=t.$elements.box;n===e.target||n.contains(e.target)||t.hideModal()}))}},{key:"showModal",value:function(){s("in",this.$elements.container),this.$elements.container.classList.add("ult-modal-container--open"),document.body.classList.add("ult-modal--open")}},{key:"hideModal",value:function(){var t=this;s("out",this.$elements.container,(function(){t.$elements.container.classList.remove("ult-modal-container--open"),document.body.classList.remove("ult-modal--open")}))}}]),t}(),L=C;n(2);document.addEventListener("DOMContentLoaded",(function(){new L,new h,new p,new y}))}]);